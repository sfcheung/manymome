<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>manymome • manymome</title>
<!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png">
<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png">
<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png">
<link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png">
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/Hind-0.4.9/font.css" rel="stylesheet">
<link href="../deps/Oxygen_Mono-0.4.9/font.css" rel="stylesheet">
<link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet">
<link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet">
<script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="manymome">
<meta name="google-site-verification" content="0VLBmFnW_UJFI-7gXnORPBsWxqZwmzuGpK-TeVRLBjQ">
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-primary" data-bs-theme="dark" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">manymome</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.2.5</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="active nav-item"><a class="nav-link" href="../articles/manymome.html">Get started</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles">
<li><h6 class="dropdown-header" data-toc-skip>&lt;Structural Equation Models&gt;</h6></li>
    <li><a class="dropdown-item" href="../articles/manymome.html">Moderation, Mediation, Moderated Mediation in Path Models</a></li>
    <li><a class="dropdown-item" href="../articles/med_lav.html">Mediation among Latent Variables</a></li>
    <li><hr class="dropdown-divider"></li>
    <li><h6 class="dropdown-header" data-toc-skip>&lt;Multiple Regression&gt;</h6></li>
    <li><a class="dropdown-item" href="../articles/med_lm.html">Mediation</a></li>
    <li><a class="dropdown-item" href="../articles/mome_lm.html">Moderated Mediation</a></li>
    <li><hr class="dropdown-divider"></li>
    <li><h6 class="dropdown-header" data-toc-skip>&lt;Multigroup Models&gt;</h6></li>
    <li><a class="dropdown-item" href="../articles/med_mg.html">Mediation in Multigroup Models</a></li>
    <li><hr class="dropdown-divider"></li>
    <li><h6 class="dropdown-header" data-toc-skip>&lt;Multiple Imputation&gt;</h6></li>
    <li><a class="dropdown-item" href="../articles/do_mc_lavaan_mi.html">Monte Carlo Confidence Intervals with Multiple Imputation</a></li>
    <li><hr class="dropdown-divider"></li>
    <li><h6 class="dropdown-header" data-toc-skip>&lt;Helpers&gt;</h6></li>
    <li><a class="dropdown-item" href="../articles/do_boot.html">Generate Bootstrap Estimates</a></li>
    <li><a class="dropdown-item" href="../articles/do_mc.html">Generate Monte Carlo Estimates</a></li>
    <li><a class="dropdown-item" href="../articles/mod_levels.html">Set Moderator Levels</a></li>
    <li><hr class="dropdown-divider"></li>
    <li><h6 class="dropdown-header" data-toc-skip>&lt;Technical Appendices&gt;</h6></li>
    <li><a class="dropdown-item" href="../articles/get_prod.html">Workflow of `get_prod()` and Friends</a></li>
    <li><a class="dropdown-item" href="../articles/manymome_cond_indirect_and_friends_workflow.html">Workflow of `cond_indirect()`</a></li>
    <li><a class="dropdown-item" href="../articles/manymome_do_boot_workflow.html">Workflow of `do_boot()`</a></li>
    <li><a class="dropdown-item" href="../articles/manymome_do_mc_workflow.html">Workflow of `do_mc()`</a></li>
  </ul>
</li>
<li class="nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul>
<ul class="navbar-nav">
<li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json">
</form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/sfcheung/manymome/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul>
</div>


  </div>
</nav><div class="container template-article">




<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>manymome</h1>
                        <h4 data-toc-skip class="author">Shu Fai Cheung
&amp; Sing-Hang Cheung</h4>
            
            <h4 data-toc-skip class="date">2024-12-04</h4>
      
      <small class="dont-index">Source: <a href="https://github.com/sfcheung/manymome/blob/v0.2.5/vignettes/manymome.Rmd" class="external-link"><code>vignettes/manymome.Rmd</code></a></small>
      <div class="d-none name"><code>manymome.Rmd</code></div>
    </div>

    
    
<div class="section level2">
<h2 id="introduction">Introduction<a class="anchor" aria-label="anchor" href="#introduction"></a>
</h2>
<p>This article is a brief illustration of how main functions from the
package <a href="https://sfcheung.github.io/manymome/index.html">manymome</a> (<a href="https://doi.org/10.3758/s13428-023-02224-z" class="external-link">Cheung &amp; Cheung,
2023</a>) can be used in some typical cases. It assumes that readers
have basic understanding of mediation, moderation, moderated mediation,
structural equation modeling (SEM), and bootstrapping.</p>
<div class="section level3">
<h3 id="workflow">Workflow<a class="anchor" aria-label="anchor" href="#workflow"></a>
</h3>
<p>The use of <code>manymome</code> adopts a two-stage workflow:</p>
<ul>
<li>
<p>Stage 1: <strong>Fit the model</strong></p>
<ul>
<li><p>This can be done by SEM (using <code><a href="https://rdrr.io/pkg/lavaan/man/sem.html" class="external-link">lavaan::sem()</a></code>) or a
series of regression (using <code><a href="https://rdrr.io/r/stats/lm.html" class="external-link">lm()</a></code>).</p></li>
<li><p>When <code><a href="https://rdrr.io/pkg/lavaan/man/sem.html" class="external-link">lavaan::sem()</a></code> is used, no need to label any
parameters or denote any variables as the predictors, mediators,
moderators, or outcome variables for computing indirect effects or
conditional indirect effects. Stage 2 will take care of this.</p></li>
</ul>
</li>
<li>
<p>Stage 2: <strong>Compute the indirect effects and conditional
indirect effects</strong></p>
<ul>
<li><p>This can be done along nearly any path in the model for any
levels of the moderators.</p></li>
<li><p>Just specify the start (<code>x</code>), the mediator(s)
(<code>m</code>, if any), and the end (<code>y</code>) for indirect
effects. The functions will find the coefficients
automatically.</p></li>
<li><p>If a path has one or more moderators, conditional indirect
effects can be computed. Product terms will be identified
automatically.</p></li>
<li><p>The levels of the moderators can be decided in this stage and can
be changed as often as needed.</p></li>
</ul>
</li>
</ul>
<p><strong>Bootstrapping confidence intervals</strong>: All main
functions support bootstrap confidence intervals for the effects.
Bootstrapping can done in Stage 1 (e.g., by <code><a href="https://rdrr.io/pkg/lavaan/man/sem.html" class="external-link">lavaan::sem()</a></code>
using <code>se = "boot"</code>) or in Stage 2 in the first call to the
main functions, and only needs to be conducted once. Alternatively,
<code><a href="../reference/do_boot.html">do_boot()</a></code> can be use (see
<code><a href="../articles/do_boot.html">vignette("do_boot")</a></code>). The bootstrap estimates can be reused
by most main functions of <code>manymome</code> for any path and any
level of the moderators.</p>
<p><strong>Monte Carlo confidence intervals</strong>: Initial support
for Monte Carlo confidence interval has been added to all main functions
for the effects in a model fitted by <code><a href="https://rdrr.io/pkg/lavaan/man/sem.html" class="external-link">lavaan::sem()</a></code>. The
recommended workflow is to use <code><a href="../reference/do_mc.html">do_mc()</a></code> to generate the
simulated sampling estimates. The simulated estimates can be reused by
most main functions of <code>manymome</code> for any path and any level
of the moderators. To keep the length of this vignette short, it only
covers bootstrapping confidence intervals. Please see
<code><a href="../articles/do_mc.html">vignette("do_mc")</a></code> for an illustration on how to form Monte
Carlo confidence intervals.</p>
<p><strong>Standardized effects</strong>: All main functions in Stage 2
support standardized effects and form their bootstrap confidence
interval correctly (Cheung, 2009; Friedrich, 1982). No need to
standardize the variables in advance in Stage 1, even for paths with
moderators.</p>
</div>
<div class="section level3">
<h3 id="what-will-be-covered-in-this-get-started-article">What Will Be Covered In This Get-Started Article<a class="anchor" aria-label="anchor" href="#what-will-be-covered-in-this-get-started-article"></a>
</h3>
<ul>
<li><p>Use <code><a href="../reference/cond_indirect.html">cond_indirect_effects()</a></code> to compute
<em>conditional</em> <em>indirect</em> <em>effects</em>, with bootstrap
confidence intervals.</p></li>
<li><p>Use <code><a href="../reference/cond_indirect.html">indirect_effect()</a></code> to compute an
<em>indirect</em> <em>effect</em>, with bootstrap confidence
interval.</p></li>
<li><p>Use <code>+</code> and <code>-</code> to compute a
<em>function</em> of effects, such as total indirect effects or total
effects.</p></li>
<li><p>Use <code><a href="../reference/do_boot.html">do_boot()</a></code> to generate bootstrap estimates for
<code><a href="../reference/cond_indirect.html">cond_indirect_effects()</a></code>, <code><a href="../reference/cond_indirect.html">indirect_effect()</a></code>,
and some other functions in <code>manymome</code>.</p></li>
<li><p>Use <code><a href="../reference/index_of_mome.html">index_of_mome()</a></code> and
<code><a href="../reference/index_of_mome.html">index_of_momome()</a></code> to compute the index of moderated
mediation and the index of moderated moderated mediation, respectively,
with bootstrap confidence intervals.</p></li>
<li><p>Compute <em>standardized</em> conditional indirect effects and
<em>standardized</em> indirect effect using
<code><a href="../reference/cond_indirect.html">cond_indirect_effects()</a></code> and <code><a href="../reference/cond_indirect.html">indirect_effect()</a></code>,
respectively.</p></li>
</ul>
</div>
</div>
<div class="section level2">
<h2 id="moderated-mediation-by-sem-using-lavaan">Moderated Mediation by SEM using <code>lavaan</code><a class="anchor" aria-label="anchor" href="#moderated-mediation-by-sem-using-lavaan"></a>
</h2>
<p>This is the sample data set comes with the package:</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://sfcheung.github.io/manymome/">manymome</a></span><span class="op">)</span></span>
<span><span class="va">dat</span> <span class="op">&lt;-</span> <span class="va">data_med_mod_ab</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="va">dat</span><span class="op">)</span>, digits <span class="op">=</span> <span class="fl">3</span><span class="op">)</span></span>
<span><span class="co">#&gt;       x   w1   w2    m    y    c1   c2</span></span>
<span><span class="co">#&gt; 1  9.27 4.97 2.66 3.46 8.80  9.26 3.14</span></span>
<span><span class="co">#&gt; 2 10.79 4.13 3.33 4.05 7.37 10.71 5.80</span></span>
<span><span class="co">#&gt; 3 11.10 5.91 3.32 4.04 8.24 10.60 5.45</span></span>
<span><span class="co">#&gt; 4  9.53 4.78 2.32 3.54 8.37  9.22 3.83</span></span>
<span><span class="co">#&gt; 5 10.00 4.38 2.95 4.65 8.39  9.58 4.26</span></span>
<span><span class="co">#&gt; 6 12.25 5.81 4.04 4.73 9.65  9.51 4.01</span></span></code></pre></div>
<p>Suppose this is the model being fitted:</p>
<div class="float">
<img src="manymome_draw_model-1.png" alt="plot of chunk manymome_draw_model"><div class="figcaption">plot of chunk manymome_draw_model</div>
</div>
<p>The models are intended to be simple enough for illustration but
complicated enough to show the flexibility of <code>manymome</code>.
More complicated models are also supported, discussed later.</p>
<div class="section level3">
<h3 id="fitting-the-model">Fitting the Model<a class="anchor" aria-label="anchor" href="#fitting-the-model"></a>
</h3>
<p>The model fitted above is a moderated mediation model with</p>
<ul>
<li><p>a mediation path <code>x -&gt; m -&gt; y</code>, and</p></li>
<li>
<p>two moderators:</p>
<ul>
<li><p><code>x -&gt; m</code> moderated by <code>w1</code></p></li>
<li><p><code>m -&gt; y</code> moderated by <code>w2</code>.</p></li>
</ul>
</li>
</ul>
<p>The effects of interest are the <em>conditional</em>
<em>indirect</em> <em>effects</em>: the indirect effects</p>
<ul>
<li><p>from <code>x</code> to <code>y</code></p></li>
<li><p>through <code>m</code></p></li>
<li><p>for different levels of <code>w1</code> and
<code>w2</code>.</p></li>
</ul>
<p><code><a href="../reference/cond_indirect.html">cond_indirect_effects()</a></code> can estimate these effects in
the model fitted by <code><a href="https://rdrr.io/pkg/lavaan/man/sem.html" class="external-link">lavaan::sem()</a></code>. There is no need to
label any path coefficients or define any user parameters (but users
can, if so desired; they have no impact on the functions in
<code>manymome</code>). To illustrate a more realistic scenario, two
control variables, <code>c1</code> and <code>c2</code>, are also
included.</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://lavaan.ugent.be" class="external-link">lavaan</a></span><span class="op">)</span></span>
<span><span class="co"># Form the product terms</span></span>
<span><span class="va">dat</span><span class="op">$</span><span class="va">w1x</span> <span class="op">&lt;-</span> <span class="va">dat</span><span class="op">$</span><span class="va">w1</span> <span class="op">*</span> <span class="va">dat</span><span class="op">$</span><span class="va">x</span></span>
<span><span class="va">dat</span><span class="op">$</span><span class="va">w2m</span> <span class="op">&lt;-</span> <span class="va">dat</span><span class="op">$</span><span class="va">w2</span> <span class="op">*</span> <span class="va">dat</span><span class="op">$</span><span class="va">m</span></span>
<span><span class="va">mod</span> <span class="op">&lt;-</span></span>
<span><span class="st">"</span></span>
<span><span class="st">m ~ x + w1 + w1x + c1 + c2</span></span>
<span><span class="st">y ~ m + w2 + w2m + x + c1 + c2</span></span>
<span><span class="st"># Covariances of the error term of m with w2m and w2</span></span>
<span><span class="st">m ~~ w2m + w2</span></span>
<span><span class="st"># Covariance between other variables</span></span>
<span><span class="st"># They need to be added due to the covariances added above</span></span>
<span><span class="st"># See Kwan and Chan (2018) and Miles et al. (2015)</span></span>
<span><span class="st">w2m ~~ w2 + x + w1 + w1x + c1 + c2</span></span>
<span><span class="st">w2  ~~ x + w1 + w1x + c1 + c2</span></span>
<span><span class="st">x   ~~ w1 + w1x + c1 + c2</span></span>
<span><span class="st">w1  ~~ w1x + c1 + c2</span></span>
<span><span class="st">w1x ~~ c1 + c2</span></span>
<span><span class="st">c1  ~~ c2</span></span>
<span><span class="st">"</span></span>
<span><span class="va">fit</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/pkg/lavaan/man/sem.html" class="external-link">sem</a></span><span class="op">(</span>model <span class="op">=</span> <span class="va">mod</span>,</span>
<span>           data <span class="op">=</span> <span class="va">dat</span>,</span>
<span>           fixed.x <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>           estimator <span class="op">=</span> <span class="st">"MLR"</span><span class="op">)</span></span></code></pre></div>
<p><code>MLR</code> is used to take into account probable nonnormality
due to the product terms. <code>fixed.x = FALSE</code> is used to allow
the predictors to be random variables. This is usually necessary when
the values of the predictor are also sampled from the populations, and
so their standard deviations are sample statistics.</p>
<p>These are the parameter estimates of the paths:</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/pkg/lavaan/man/parameterEstimates.html" class="external-link">parameterEstimates</a></span><span class="op">(</span><span class="va">fit</span><span class="op">)</span><span class="op">[</span><span class="fu"><a href="https://rdrr.io/pkg/lavaan/man/parameterEstimates.html" class="external-link">parameterEstimates</a></span><span class="op">(</span><span class="va">fit</span><span class="op">)</span><span class="op">$</span><span class="va">op</span> <span class="op">==</span> <span class="st">"~"</span>, <span class="op">]</span></span>
<span><span class="co">#&gt;    lhs op rhs    est    se      z pvalue ci.lower ci.upper</span></span>
<span><span class="co">#&gt; 1    m  ~   x -0.663 0.533 -1.244  0.213   -1.707    0.381</span></span>
<span><span class="co">#&gt; 2    m  ~  w1 -2.290 1.010 -2.267  0.023   -4.269   -0.310</span></span>
<span><span class="co">#&gt; 3    m  ~ w1x  0.204 0.101  2.023  0.043    0.006    0.401</span></span>
<span><span class="co">#&gt; 4    m  ~  c1 -0.020 0.079 -0.251  0.801   -0.175    0.135</span></span>
<span><span class="co">#&gt; 5    m  ~  c2 -0.130 0.090 -1.444  0.149   -0.306    0.046</span></span>
<span><span class="co">#&gt; 6    y  ~   m -0.153 0.248 -0.616  0.538   -0.638    0.333</span></span>
<span><span class="co">#&gt; 7    y  ~  w2 -0.921 0.401 -2.300  0.021   -1.706   -0.136</span></span>
<span><span class="co">#&gt; 8    y  ~ w2m  0.204 0.079  2.579  0.010    0.049    0.359</span></span>
<span><span class="co">#&gt; 9    y  ~   x  0.056 0.086  0.653  0.514   -0.113    0.225</span></span>
<span><span class="co">#&gt; 10   y  ~  c1 -0.102 0.081 -1.261  0.207   -0.261    0.056</span></span>
<span><span class="co">#&gt; 11   y  ~  c2 -0.108 0.087 -1.249  0.212   -0.279    0.062</span></span></code></pre></div>
<p>The moderation effects of both <code>w1</code> and <code>w2</code>
are significant. The indirect effect from <code>x</code> to
<code>y</code> through <code>m</code> depends on the level of
<code>w1</code> and <code>w2</code>.</p>
</div>
<div class="section level3">
<h3 id="conditional-indirect-effects">Conditional Indirect Effects<a class="anchor" aria-label="anchor" href="#conditional-indirect-effects"></a>
</h3>
<p>To form bootstrap confidence intervals, bootstrapping needs to be
done. There are several ways to do this. We first illustrate using
<code><a href="../reference/do_boot.html">do_boot()</a></code>.</p>
<div class="section level4">
<h4 id="do-bootstrapping-once">Do Bootstrapping (Once)<a class="anchor" aria-label="anchor" href="#do-bootstrapping-once"></a>
</h4>
<p>Using <code><a href="../reference/do_boot.html">do_boot()</a></code> instead of setting <code>se</code> to
<code>"boot"</code> when calling <code><a href="https://rdrr.io/pkg/lavaan/man/sem.html" class="external-link">lavaan::sem()</a></code> allows users
to use other method for standard errors and confidence intervals for
other parameters, such as the various types of robust standard errors
provided by <code><a href="https://rdrr.io/pkg/lavaan/man/sem.html" class="external-link">lavaan::sem()</a></code>.</p>
<p>The function <code><a href="../reference/do_boot.html">do_boot()</a></code> is used to generate and store
bootstrap estimates as well as implied variances of variables, which are
needed to estimate standardized effects.</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">fit_boot</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/do_boot.html">do_boot</a></span><span class="op">(</span>fit <span class="op">=</span> <span class="va">fit</span>,</span>
<span>                    R <span class="op">=</span> <span class="fl">500</span>,</span>
<span>                    seed <span class="op">=</span> <span class="fl">53253</span>,</span>
<span>                    ncores <span class="op">=</span> <span class="fl">1</span><span class="op">)</span></span></code></pre></div>
<p>These are the major arguments:</p>
<ul>
<li><p><code>fit</code>: The output of
<code><a href="https://rdrr.io/pkg/lavaan/man/sem.html" class="external-link">lavaan::sem()</a></code>.</p></li>
<li><p><code>R</code>: The number of bootstrap samples, which should be
2000 or even 5000 in real research. <code>R</code> is set to 500 here
just for illustration.</p></li>
<li><p><code>seed</code>: The seed to reproduce the results.</p></li>
<li><p><code>ncores</code>: The number of processes in parallel
processing. The default number is the number of detected physical cores
minus 1. Can be omitted in real studies. Set to 1 here for
illustration.</p></li>
</ul>
<p>By default, parallel processing is used, and so the results are
reproducible with the same seed only if the number of processes is the
same. See <code><a href="../reference/do_boot.html">do_boot()</a></code> for other options and
<code><a href="../articles/do_boot.html">vignette("do_boot")</a></code> on the output of
<code><a href="../reference/do_boot.html">do_boot()</a></code>.</p>
<p>The output, <code>fit_boot</code> in this case, can then be used for
all subsequent analyses on this model.</p>
</div>
<div class="section level4">
<h4 id="estimate-conditional-indirect-effects">Estimate Conditional Indirect Effects<a class="anchor" aria-label="anchor" href="#estimate-conditional-indirect-effects"></a>
</h4>
<p>To compute conditional indirect effects and form bootstrap confidence
intervals, we can use <code><a href="../reference/cond_indirect.html">cond_indirect_effects()</a></code>.</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">out_cond</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/cond_indirect.html">cond_indirect_effects</a></span><span class="op">(</span>wlevels <span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"w1"</span>, <span class="st">"w2"</span><span class="op">)</span>,</span>
<span>                                  x <span class="op">=</span> <span class="st">"x"</span>,</span>
<span>                                  y <span class="op">=</span> <span class="st">"y"</span>,</span>
<span>                                  m <span class="op">=</span> <span class="st">"m"</span>,</span>
<span>                                  fit <span class="op">=</span> <span class="va">fit</span>,</span>
<span>                                  boot_ci <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>                                  boot_out <span class="op">=</span> <span class="va">fit_boot</span><span class="op">)</span></span></code></pre></div>
<p>These are the major arguments:</p>
<ul>
<li>
<code>wlevels</code>: The vector of the names of the moderators.
Order does not matter. If the default levels are not suitable, custom
levels can be created by functions like <code><a href="../reference/mod_levels.html">mod_levels()</a></code> and
<code><a href="../reference/merge_mod_levels.html">merge_mod_levels()</a></code> (see
<code><a href="../articles/mod_levels.html">vignette("mod_levels")</a></code>).</li>
<li>
<code>x</code>: The name of the predictor.</li>
<li>
<code>y</code>: The name of the outcome variable.</li>
<li>
<code>m</code>: The name of the mediator, or a vector of names if
the path has more than one mediator (see <a href="#est_indirect">this
example</a>).</li>
<li>
<code>fit</code>: The output of <code><a href="https://rdrr.io/pkg/lavaan/man/sem.html" class="external-link">lavaan::sem()</a></code>.</li>
<li>
<code>boot_ci</code>: Set to <code>TRUE</code> to request bootstrap
confidence intervals. Default is <code>FALSE</code>.</li>
<li>
<code>boot_out</code>: The pregenerated bootstrap estimates
generated by <code><a href="../reference/do_boot.html">do_boot()</a></code> or previous call to
<code><a href="../reference/cond_indirect.html">cond_indirect_effects()</a></code> or
<code><a href="../reference/cond_indirect.html">indirect_effect()</a></code>.</li>
</ul>
<p>This is the output:</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">out_cond</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; == Conditional indirect effects ==</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt;  Path: x -&gt; m -&gt; y</span></span>
<span><span class="co">#&gt;  Conditional on moderator(s): w1, w2</span></span>
<span><span class="co">#&gt;  Moderator(s) represented by: w1, w2</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt;      [w1]    [w2]  (w1)  (w2)   ind  CI.lo CI.hi Sig   m~x   y~m</span></span>
<span><span class="co">#&gt; 1 M+1.0SD M+1.0SD 6.173 4.040 0.399  0.139 0.705 Sig 0.596 0.671</span></span>
<span><span class="co">#&gt; 2 M+1.0SD M-1.0SD 6.173 2.055 0.158 -0.025 0.381     0.596 0.266</span></span>
<span><span class="co">#&gt; 3 M-1.0SD M+1.0SD 4.038 4.040 0.107 -0.148 0.358     0.160 0.671</span></span>
<span><span class="co">#&gt; 4 M-1.0SD M-1.0SD 4.038 2.055 0.043 -0.062 0.191     0.160 0.266</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt;  - [CI.lo to CI.hi] are 95.0% percentile confidence intervals by</span></span>
<span><span class="co">#&gt;    nonparametric bootstrapping with 500 samples.</span></span>
<span><span class="co">#&gt;  - The 'ind' column shows the conditional indirect effects.</span></span>
<span><span class="co">#&gt;  - 'm~x','y~m' is/are the path coefficient(s) along the path conditional</span></span>
<span><span class="co">#&gt;    on the moderator(s).</span></span></code></pre></div>
<p>For two or more moderators, the default levels for numeric moderators
are one standard deviation (SD) below mean and one SD above mean. For
two moderators, there are four combinations.</p>
<p>As shown above, among these four sets of levels, the indirect effect
from <code>x</code> to <code>y</code> through <code>m</code> is
significant only when both <code>w1</code> and <code>w2</code> are one
SD above their means. The indirect effect at these levels of
<code>w1</code> and <code>w2</code> are 0.399, with 95% bootstrap
confidence interval [0.139, 0.705].</p>
<p>The function <code><a href="../reference/cond_indirect.html">cond_indirect_effects()</a></code>, as well as other
functions described below, also supports bias-corrected (BC) confidence
interval, which can be requested by adding <code>boot_type = "bc"</code>
to the call. However, authors in some recent work do not advocate this
method (e.g., Falk &amp; Biesanz, 2015; Hayes, 2022; Tofighi &amp;
Kelley, 2020). Therefore, this option is provided merely for research
purpose.</p>
<div class="section level5">
<h5 id="examine-the-effect-at-a-particular-set-of-levels-of-the-moderators">Examine the Effect at a Particular Set of Levels of the
Moderators<a class="anchor" aria-label="anchor" href="#examine-the-effect-at-a-particular-set-of-levels-of-the-moderators"></a>
</h5>
<p>To learn more about the conditional effect for one combination of the
levels of the moderators, <code><a href="../reference/get_one_cond_indirect_effect.html">get_one_cond_indirect_effect()</a></code>
can be used, with the first argument the output of
<code><a href="../reference/cond_indirect.html">cond_indirect_effects()</a></code> and the second argument the row
number. For example, this shows the details on the computation of the
indirect effect when both <code>w1</code> and <code>w2</code> are one SD
above their means (row 1):</p>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/get_one_cond_indirect_effect.html">get_one_cond_indirect_effect</a></span><span class="op">(</span><span class="va">out_cond</span>, <span class="fl">1</span><span class="op">)</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; == Conditional Indirect Effect   ==</span></span>
<span><span class="co">#&gt;                                                     </span></span>
<span><span class="co">#&gt;  Path:                        x -&gt; m -&gt; y           </span></span>
<span><span class="co">#&gt;  Moderators:                  w1, w2                </span></span>
<span><span class="co">#&gt;  Conditional Indirect Effect: 0.399                 </span></span>
<span><span class="co">#&gt;  95.0% Bootstrap CI:          [0.139 to 0.705]      </span></span>
<span><span class="co">#&gt;  When:                        w1 = 6.173, w2 = 4.040</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Computation Formula:</span></span>
<span><span class="co">#&gt;   (b.m~x + (b.w1x)*(w1))*(b.y~m + (b.w2m)*(w2))</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Computation:</span></span>
<span><span class="co">#&gt;   ((-0.66304) + (0.20389)*(6.17316))*((-0.15271) + (0.20376)*(4.04049))</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Percentile confidence interval formed by nonparametric bootstrapping</span></span>
<span><span class="co">#&gt; with 500 bootstrap samples.</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Coefficients of Component Paths:</span></span>
<span><span class="co">#&gt;  Path Conditional Effect Original Coefficient</span></span>
<span><span class="co">#&gt;   m~x              0.596               -0.663</span></span>
<span><span class="co">#&gt;   y~m              0.671               -0.153</span></span></code></pre></div>
</div>
<div class="section level5">
<h5 id="changing-the-levels-of-the-moderators">Changing the Levels of the Moderators<a class="anchor" aria-label="anchor" href="#changing-the-levels-of-the-moderators"></a>
</h5>
<p>The levels of the moderators, <code>w1</code> and <code>w2</code> in
this example, can be controlled directly by users. For examples,
percentiles or exact values of the moderators can be used. See
<code><a href="../articles/mod_levels.html">vignette("mod_levels")</a></code> on how to specify other levels of
the moderators, and the arguments <code>w_method</code>,
<code>sd_from_mean</code>, and <code>percentiles</code> of
<code><a href="../reference/cond_indirect.html">cond_indirect_effects()</a></code>.</p>
</div>
</div>
</div>
<div class="section level3">
<h3 id="standardized-conditional-indirect-effects">Standardized Conditional Indirect Effects<a class="anchor" aria-label="anchor" href="#standardized-conditional-indirect-effects"></a>
</h3>
<p>To compute the standardized conditional indirect effects, we can
standardize only the predictor (<code>x</code>), only the outcome
(<code>y</code>), or both.</p>
<p>To standardize <code>x</code>, set <code>standardized_x</code> to
<code>TRUE</code>. To standardize <code>y</code>, set
<code>standardized_y</code> to <code>TRUE</code>. To standardize both,
set both <code>standardized_x</code> and <code>standardized_y</code> to
<code>TRUE</code>.</p>
<p>This is the result when both <code>x</code> and <code>y</code> are
standardized:</p>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">out_cond_stdxy</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/cond_indirect.html">cond_indirect_effects</a></span><span class="op">(</span>wlevels <span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"w1"</span>, <span class="st">"w2"</span><span class="op">)</span>,</span>
<span>                                        x <span class="op">=</span> <span class="st">"x"</span>,</span>
<span>                                        y <span class="op">=</span> <span class="st">"y"</span>,</span>
<span>                                        m <span class="op">=</span> <span class="st">"m"</span>,</span>
<span>                                        fit <span class="op">=</span> <span class="va">fit</span>,</span>
<span>                                        boot_ci <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>                                        boot_out <span class="op">=</span> <span class="va">fit_boot</span>,</span>
<span>                                        standardized_x <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>                                        standardized_y <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span></code></pre></div>
<p>Note that <code>fit_boot</code> is used so that there is no need to
do bootstrapping again.</p>
<p>This is the output:</p>
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">out_cond_stdxy</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; == Conditional indirect effects ==</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt;  Path: x -&gt; m -&gt; y</span></span>
<span><span class="co">#&gt;  Conditional on moderator(s): w1, w2</span></span>
<span><span class="co">#&gt;  Moderator(s) represented by: w1, w2</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt;      [w1]    [w2]  (w1)  (w2)   std  CI.lo CI.hi Sig   m~x   y~m   ind</span></span>
<span><span class="co">#&gt; 1 M+1.0SD M+1.0SD 6.173 4.040 0.401  0.154 0.655 Sig 0.596 0.671 0.399</span></span>
<span><span class="co">#&gt; 2 M+1.0SD M-1.0SD 6.173 2.055 0.159 -0.029 0.363     0.596 0.266 0.158</span></span>
<span><span class="co">#&gt; 3 M-1.0SD M+1.0SD 4.038 4.040 0.108 -0.145 0.370     0.160 0.671 0.107</span></span>
<span><span class="co">#&gt; 4 M-1.0SD M-1.0SD 4.038 2.055 0.043 -0.062 0.190     0.160 0.266 0.043</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt;  - [CI.lo to CI.hi] are 95.0% percentile confidence intervals by</span></span>
<span><span class="co">#&gt;    nonparametric bootstrapping with 500 samples.</span></span>
<span><span class="co">#&gt;  - std: The standardized conditional indirect effects. </span></span>
<span><span class="co">#&gt;  - ind: The unstandardized conditional indirect effects.</span></span>
<span><span class="co">#&gt;  - 'm~x','y~m' is/are the path coefficient(s) along the path conditional</span></span>
<span><span class="co">#&gt;    on the moderator(s).</span></span></code></pre></div>
<p>The standardized indirect effect when both <code>w1</code> and
<code>w2</code> are one SD above mean is 0.401, with 95% bootstrap
confidence interval [0.154, 0.655].</p>
<p>That is, when both <code>w1</code> and <code>w2</code> are one SD
above their means, if <code>x</code> increases by one SD, it leads to an
increase of 0.401 SD of <code>y</code> through <code>m</code>.</p>
</div>
<div class="section level3">
<h3 id="index-of-moderated-moderated-mediation">Index of Moderated Moderated Mediation<a class="anchor" aria-label="anchor" href="#index-of-moderated-moderated-mediation"></a>
</h3>
<p>The index of moderated moderated mediation (Hayes, 2018) can be
estimated, along with bootstrap confidence interval, using the function
<code><a href="../reference/index_of_mome.html">index_of_momome()</a></code>:</p>
<div class="sourceCode" id="cb10"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">out_momome</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/index_of_mome.html">index_of_momome</a></span><span class="op">(</span>x <span class="op">=</span> <span class="st">"x"</span>,</span>
<span>                              y <span class="op">=</span> <span class="st">"y"</span>,</span>
<span>                              m <span class="op">=</span> <span class="st">"m"</span>,</span>
<span>                              w <span class="op">=</span> <span class="st">"w1"</span>,</span>
<span>                              z <span class="op">=</span> <span class="st">"w2"</span>,</span>
<span>                              fit <span class="op">=</span> <span class="va">fit</span>,</span>
<span>                              boot_ci <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>                              boot_out <span class="op">=</span> <span class="va">fit_boot</span><span class="op">)</span></span></code></pre></div>
<p>These are the major arguments:</p>
<ul>
<li>
<code>x</code>: The name of the predictor.</li>
<li>
<code>y</code>: The name of the outcome variable.</li>
<li>
<code>m</code>: The name of the mediator, or a vector of names if
the path has more than one mediator (see <a href="#est_indirect">this
example</a>).</li>
<li>
<code>w</code>: The name of one of the moderator.</li>
<li>
<code>z</code>: The name of the other moderator. The order of
<code>w</code> and <code>z</code> does not matter.</li>
<li>
<code>fit</code>: The output of <code><a href="https://rdrr.io/pkg/lavaan/man/sem.html" class="external-link">lavaan::sem()</a></code>.</li>
<li>
<code>boot_ci</code>: Set to <code>TRUE</code> to request bootstrap
confidence intervals. Default is <code>FALSE</code>.</li>
<li>
<code>boot_out</code>: The pregenerated bootstrap estimates
generated by <code><a href="../reference/do_boot.html">do_boot()</a></code> or previous call to
<code><a href="../reference/cond_indirect.html">cond_indirect_effects()</a></code> and
<code><a href="../reference/cond_indirect.html">indirect_effect()</a></code>.</li>
</ul>
<p>This is the result:</p>
<div class="sourceCode" id="cb11"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">out_momome</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; == Conditional indirect effects ==</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt;  Path: x -&gt; m -&gt; y</span></span>
<span><span class="co">#&gt;  Conditional on moderator(s): w1, w2</span></span>
<span><span class="co">#&gt;  Moderator(s) represented by: w1, w2</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt;   [w1] [w2] (w1) (w2)    ind  CI.lo CI.hi Sig    m~x    y~m</span></span>
<span><span class="co">#&gt; 1    1    1    1    1 -0.023 -0.276 0.312     -0.459  0.051</span></span>
<span><span class="co">#&gt; 2    1    0    1    0  0.070 -0.206 0.649     -0.459 -0.153</span></span>
<span><span class="co">#&gt; 3    0    1    0    1 -0.034 -0.364 0.383     -0.663  0.051</span></span>
<span><span class="co">#&gt; 4    0    0    0    0  0.101 -0.252 0.868     -0.663 -0.153</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; == Index of Moderated Moderated Mediation ==</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Levels compared:</span></span>
<span><span class="co">#&gt; (Row 1 - Row 2) - (Row 3 - Row 4)</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt;       x y Index  CI.lo CI.hi</span></span>
<span><span class="co">#&gt; Index x y 0.042 -0.003 0.116</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt;  - [CI.lo, CI.hi]: 95% percentile confidence interval.</span></span></code></pre></div>
<p>The index of moderated moderated mediation is 0.042, with 95%
bootstrap confidence interval [-0.003, 0.116].</p>
<p>Note that this index is specifically for the change when
<code>w1</code> or <code>w2</code> increases by one unit.</p>
</div>
<div class="section level3">
<h3 id="index-of-moderated-mediation">Index of Moderated Mediation<a class="anchor" aria-label="anchor" href="#index-of-moderated-mediation"></a>
</h3>
<p>The <code>manymome</code> package also has a function to compute the
<em>index of moderated mediation</em> (Hayes, 2015). Suppose we modify
the model and remove one of the moderators:</p>
<div class="float">
<img src="manymome_plot_mome1-1.png" alt="plot of chunk manymome_plot_mome1"><div class="figcaption">plot of chunk manymome_plot_mome1</div>
</div>
<p>This is the <code>lavaan</code> model:</p>
<div class="sourceCode" id="cb12"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://lavaan.ugent.be" class="external-link">lavaan</a></span><span class="op">)</span></span>
<span><span class="va">dat</span><span class="op">$</span><span class="va">w1x</span> <span class="op">&lt;-</span> <span class="va">dat</span><span class="op">$</span><span class="va">w1</span> <span class="op">*</span> <span class="va">dat</span><span class="op">$</span><span class="va">x</span></span>
<span><span class="va">mod2</span> <span class="op">&lt;-</span></span>
<span><span class="st">"</span></span>
<span><span class="st">m ~ x + w1 + w1x + c1 + c2</span></span>
<span><span class="st">y ~ m + x + c1 + c2</span></span>
<span><span class="st">"</span></span>
<span><span class="va">fit2</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/pkg/lavaan/man/sem.html" class="external-link">sem</a></span><span class="op">(</span>model <span class="op">=</span> <span class="va">mod2</span>,</span>
<span>           data <span class="op">=</span> <span class="va">dat</span>,</span>
<span>           fixed.x <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>           estimator <span class="op">=</span> <span class="st">"MLR"</span><span class="op">)</span></span></code></pre></div>
<p>These are the parameter estimates of the paths:</p>
<div class="sourceCode" id="cb13"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/pkg/lavaan/man/parameterEstimates.html" class="external-link">parameterEstimates</a></span><span class="op">(</span><span class="va">fit2</span><span class="op">)</span><span class="op">[</span><span class="fu"><a href="https://rdrr.io/pkg/lavaan/man/parameterEstimates.html" class="external-link">parameterEstimates</a></span><span class="op">(</span><span class="va">fit2</span><span class="op">)</span><span class="op">$</span><span class="va">op</span> <span class="op">==</span> <span class="st">"~"</span>, <span class="op">]</span></span>
<span><span class="co">#&gt;   lhs op rhs    est    se      z pvalue ci.lower ci.upper</span></span>
<span><span class="co">#&gt; 1   m  ~   x -0.663 0.533 -1.244  0.213   -1.707    0.381</span></span>
<span><span class="co">#&gt; 2   m  ~  w1 -2.290 1.010 -2.267  0.023   -4.269   -0.310</span></span>
<span><span class="co">#&gt; 3   m  ~ w1x  0.204 0.101  2.023  0.043    0.006    0.401</span></span>
<span><span class="co">#&gt; 4   m  ~  c1 -0.020 0.079 -0.251  0.801   -0.175    0.135</span></span>
<span><span class="co">#&gt; 5   m  ~  c2 -0.130 0.090 -1.444  0.149   -0.306    0.046</span></span>
<span><span class="co">#&gt; 6   y  ~   m  0.434 0.114  3.815  0.000    0.211    0.657</span></span>
<span><span class="co">#&gt; 7   y  ~   x  0.053 0.093  0.570  0.569   -0.130    0.237</span></span>
<span><span class="co">#&gt; 8   y  ~  c1 -0.108 0.080 -1.352  0.177   -0.265    0.049</span></span>
<span><span class="co">#&gt; 9   y  ~  c2 -0.077 0.085 -0.904  0.366   -0.243    0.090</span></span></code></pre></div>
<p>We generate the bootstrap estimates first (<code>R</code> should be
2000 or even 5000 in real research):</p>
<div class="sourceCode" id="cb14"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">fit2_boot</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/do_boot.html">do_boot</a></span><span class="op">(</span>fit <span class="op">=</span> <span class="va">fit2</span>,</span>
<span>                    R <span class="op">=</span> <span class="fl">500</span>,</span>
<span>                    seed <span class="op">=</span> <span class="fl">53253</span>,</span>
<span>                    ncores <span class="op">=</span> <span class="fl">1</span><span class="op">)</span></span></code></pre></div>
<p>The function <code><a href="../reference/index_of_mome.html">index_of_mome()</a></code> can be used to compute the
index of moderated mediation of <code>w1</code> on the path
<code>x -&gt; m -&gt; y</code>:</p>
<div class="sourceCode" id="cb15"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">out_mome</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/index_of_mome.html">index_of_mome</a></span><span class="op">(</span>x <span class="op">=</span> <span class="st">"x"</span>,</span>
<span>                          y <span class="op">=</span> <span class="st">"y"</span>,</span>
<span>                          m <span class="op">=</span> <span class="st">"m"</span>,</span>
<span>                          w <span class="op">=</span> <span class="st">"w1"</span>,</span>
<span>                          fit <span class="op">=</span> <span class="va">fit2</span>,</span>
<span>                          boot_ci <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>                          boot_out <span class="op">=</span> <span class="va">fit2_boot</span><span class="op">)</span></span></code></pre></div>
<p>The arguments are nearly identical to those of
<code><a href="../reference/index_of_mome.html">index_of_momome()</a></code>, except that only <code>w</code> needs to
be specified. This is the output:</p>
<div class="sourceCode" id="cb16"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">out_mome</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; == Conditional indirect effects ==</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt;  Path: x -&gt; m -&gt; y</span></span>
<span><span class="co">#&gt;  Conditional on moderator(s): w1</span></span>
<span><span class="co">#&gt;  Moderator(s) represented by: w1</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt;   [w1] (w1)    ind  CI.lo CI.hi Sig    m~x   y~m</span></span>
<span><span class="co">#&gt; 1    1    1 -0.199 -0.762 0.230     -0.459 0.434</span></span>
<span><span class="co">#&gt; 2    0    0 -0.288 -0.998 0.222     -0.663 0.434</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; == Index of Moderated Mediation ==</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Levels compared: Row 1 - Row 2</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt;       x y Index  CI.lo CI.hi</span></span>
<span><span class="co">#&gt; Index x y 0.088 -0.006 0.223</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt;  - [CI.lo, CI.hi]: 95% percentile confidence interval.</span></span></code></pre></div>
<p>In this model, the index of moderated mediation is 0.088, with 95%
bootstrap confidence interval [-0.006, 0.223]. The indirect effect of
<code>x</code> on <code>y</code> through <code>m</code> does not
significantly change when <code>w1</code> increases by one unit.</p>
<p>Note that this index is specifically for the change when
<code>w1</code> increases by one unit. The index being not significant
does not contradict with the significant moderation effect suggested by
the product term.</p>
</div>
</div>
<div class="section level2">
<h2 id="mediation-only">Mediation Only<a class="anchor" aria-label="anchor" href="#mediation-only"></a>
</h2>
<p>The package can also be used for a mediation model.</p>
<p>This is the sample data set that comes with the package:</p>
<div class="sourceCode" id="cb17"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://sfcheung.github.io/manymome/">manymome</a></span><span class="op">)</span></span>
<span><span class="va">dat</span> <span class="op">&lt;-</span> <span class="va">data_serial</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="va">dat</span><span class="op">)</span>, digits <span class="op">=</span> <span class="fl">3</span><span class="op">)</span></span>
<span><span class="co">#&gt;       x   m1    m2     y        c1   c2</span></span>
<span><span class="co">#&gt; 1 12.12 20.6  9.33  9.00  0.109262 6.01</span></span>
<span><span class="co">#&gt; 2  9.81 18.2  9.47 11.56 -0.124014 6.42</span></span>
<span><span class="co">#&gt; 3 10.11 20.3 10.05  9.35  4.278608 5.34</span></span>
<span><span class="co">#&gt; 4 10.07 19.7 10.17 11.41  1.245356 5.59</span></span>
<span><span class="co">#&gt; 5 11.91 20.5 10.05 14.26 -0.000932 5.34</span></span>
<span><span class="co">#&gt; 6  9.13 16.5  8.93 10.01  1.802727 5.91</span></span></code></pre></div>
<p>Suppose this is the model being fitted, with <code>c1</code> and
<code>c2</code> the control variables.</p>
<div class="float">
<img src="manymome_draw_med-1.png" alt="plot of chunk manymome_draw_med"><div class="figcaption">plot of chunk manymome_draw_med</div>
</div>
<div class="section level3">
<h3 id="fitting-the-model-1">Fitting the Model<a class="anchor" aria-label="anchor" href="#fitting-the-model-1"></a>
</h3>
<p>Fitting this model in <code><a href="https://rdrr.io/pkg/lavaan/man/sem.html" class="external-link">lavaan::sem()</a></code> is very simple. With
<code>manymome</code>, there is no need to label paths or define user
parameters for the indirect effects.</p>
<div class="sourceCode" id="cb18"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">mod_med</span> <span class="op">&lt;-</span> <span class="st">"</span></span>
<span><span class="st">m1 ~ x + c1 + c2</span></span>
<span><span class="st">m2 ~ m1 + x + c1 + c2</span></span>
<span><span class="st">y ~ m2 + m1 + x + c1 + c2</span></span>
<span><span class="st">"</span></span>
<span><span class="va">fit_med</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/pkg/lavaan/man/sem.html" class="external-link">sem</a></span><span class="op">(</span>model <span class="op">=</span> <span class="va">mod_med</span>,</span>
<span>               data <span class="op">=</span> <span class="va">dat</span>,</span>
<span>               fixed.x <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span></code></pre></div>
<p>These are the estimates of the paths:</p>
<div class="sourceCode" id="cb19"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/pkg/lavaan/man/parameterEstimates.html" class="external-link">parameterEstimates</a></span><span class="op">(</span><span class="va">fit_med</span><span class="op">)</span><span class="op">[</span><span class="fu"><a href="https://rdrr.io/pkg/lavaan/man/parameterEstimates.html" class="external-link">parameterEstimates</a></span><span class="op">(</span><span class="va">fit_med</span><span class="op">)</span><span class="op">$</span><span class="va">op</span> <span class="op">==</span> <span class="st">"~"</span>, <span class="op">]</span></span>
<span><span class="co">#&gt;    lhs op rhs    est    se      z pvalue ci.lower ci.upper</span></span>
<span><span class="co">#&gt; 1   m1  ~   x  0.822 0.092  8.907  0.000    0.641    1.003</span></span>
<span><span class="co">#&gt; 2   m1  ~  c1  0.171 0.089  1.930  0.054   -0.003    0.346</span></span>
<span><span class="co">#&gt; 3   m1  ~  c2 -0.189 0.091 -2.078  0.038   -0.367   -0.011</span></span>
<span><span class="co">#&gt; 4   m2  ~  m1  0.421 0.099  4.237  0.000    0.226    0.615</span></span>
<span><span class="co">#&gt; 5   m2  ~   x -0.116 0.123 -0.946  0.344   -0.357    0.125</span></span>
<span><span class="co">#&gt; 6   m2  ~  c1  0.278 0.090  3.088  0.002    0.101    0.454</span></span>
<span><span class="co">#&gt; 7   m2  ~  c2 -0.162 0.092 -1.756  0.079   -0.343    0.019</span></span>
<span><span class="co">#&gt; 8    y  ~  m2  0.521 0.221  2.361  0.018    0.088    0.953</span></span>
<span><span class="co">#&gt; 9    y  ~  m1 -0.435 0.238 -1.830  0.067   -0.902    0.031</span></span>
<span><span class="co">#&gt; 10   y  ~   x  0.493 0.272  1.811  0.070   -0.040    1.026</span></span>
<span><span class="co">#&gt; 11   y  ~  c1  0.099 0.208  0.476  0.634   -0.308    0.506</span></span>
<span><span class="co">#&gt; 12   y  ~  c2 -0.096 0.207 -0.465  0.642   -0.501    0.309</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="est_indirect">Estimate Indirect Effects<a class="anchor" aria-label="anchor" href="#est_indirect"></a>
</h3>
<p><code><a href="../reference/cond_indirect.html">indirect_effect()</a></code> can be used to estimate an indirect
effect and form its bootstrapping confidence interval along a path in a
model that starts with any numeric variable, ends with any numeric
variable, through any numeric variable(s).</p>
<p>We illustrate another approach to generate bootstrap estimates: using
<code><a href="../reference/cond_indirect.html">indirect_effect()</a></code> to do both bootstrapping and estimate the
indirect effect.</p>
<p>For example, this is the call for the indirect effect from
<code>x</code> to <code>y</code> through <code>m1</code> and
<code>m2</code>:</p>
<div class="sourceCode" id="cb20"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">out_med</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/cond_indirect.html">indirect_effect</a></span><span class="op">(</span>x <span class="op">=</span> <span class="st">"x"</span>,</span>
<span>                           y <span class="op">=</span> <span class="st">"y"</span>,</span>
<span>                           m <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"m1"</span>, <span class="st">"m2"</span><span class="op">)</span>,</span>
<span>                           fit <span class="op">=</span> <span class="va">fit_med</span>,</span>
<span>                           boot_ci <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>                           R <span class="op">=</span> <span class="fl">500</span>,</span>
<span>                           seed <span class="op">=</span> <span class="fl">43143</span>,</span>
<span>                           ncores <span class="op">=</span> <span class="fl">1</span><span class="op">)</span></span></code></pre></div>
<p>The main arguments are:</p>
<ul>
<li>
<code>x</code>: The name of the predictor. The start of the
path.</li>
<li>
<code>y</code>: The name of the outcome variable. The end of the
path.</li>
<li>
<code>m</code>: The name of the mediator, or the vector of names of
the mediators if the path has more than one mediator, as in this
example. The path moves from the first mediator to the last mediator. In
this example, the correct order is <code>c("m1", "m2")</code>.</li>
<li>
<code>fit</code>: The output of <code><a href="https://rdrr.io/pkg/lavaan/man/sem.html" class="external-link">lavaan::sem()</a></code>.</li>
<li>
<code>boot_ci</code>: Set to <code>TRUE</code> to request
bootstrapping confidence intervals. Default is <code>FALSE</code>.</li>
<li>
<code>R</code>: The number of bootstrap samples. Only 500 bootstrap
samples for illustration. Set <code>R</code> to 2000 or even 5000 in
real research.</li>
<li>
<code>seed</code>: The seed for the random number generator.</li>
<li>
<code>ncores</code>: The number of processes in parallel processing.
The default number is the number of detected physical cores minus 1. Can
be omitted in real studies. Set to 1 here for illustration.</li>
</ul>
<p>Like <code><a href="../reference/do_boot.html">do_boot()</a></code>, by default, parallel processing is used,
and so the results are reproducible with the same seed only if the
number of processes (cores) is the same.</p>
<p>This is the output:</p>
<div class="sourceCode" id="cb21"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">out_med</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; == Indirect Effect  ==</span></span>
<span><span class="co">#&gt;                                        </span></span>
<span><span class="co">#&gt;  Path:               x -&gt; m1 -&gt; m2 -&gt; y</span></span>
<span><span class="co">#&gt;  Indirect Effect:    0.180             </span></span>
<span><span class="co">#&gt;  95.0% Bootstrap CI: [0.034 to 0.396]  </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Computation Formula:</span></span>
<span><span class="co">#&gt;   (b.m1~x)*(b.m2~m1)*(b.y~m2)</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Computation:</span></span>
<span><span class="co">#&gt;   (0.82244)*(0.42078)*(0.52077)</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Percentile confidence interval formed by nonparametric bootstrapping</span></span>
<span><span class="co">#&gt; with 500 bootstrap samples.</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Coefficients of Component Paths:</span></span>
<span><span class="co">#&gt;   Path Coefficient</span></span>
<span><span class="co">#&gt;   m1~x       0.822</span></span>
<span><span class="co">#&gt;  m2~m1       0.421</span></span>
<span><span class="co">#&gt;   y~m2       0.521</span></span></code></pre></div>
<p>The indirect effect from <code>x</code> to <code>y</code> through
<code>m1</code> and <code>m2</code> is 0.180, with a 95% confidence
interval of [0.034, 0.396], significantly different from zero
(<em>p</em> &lt; .05).</p>
<p>Because bootstrap confidence interval is requested, the bootstrap
estimates are stored in <code>out_med</code>. This output from
<code><a href="../reference/cond_indirect.html">indirect_effect()</a></code> can also be used in the argument
<code>boot_out</code> of other functions.</p>
</div>
<div class="section level3">
<h3 id="standardized-indirect-effect">Standardized Indirect Effect<a class="anchor" aria-label="anchor" href="#standardized-indirect-effect"></a>
</h3>
<p>To compute the indirect effect with the predictor standardized, set
<code>standardized_x</code> to <code>TRUE</code>. To compute the
indirect effect with the outcome variable standardized, set
<code>standardized_y</code> to <code>TRUE</code>. To compute the
(completely) standardized indirect effect, set both
<code>standardized_x</code> and <code>standardized_y</code> to
<code>TRUE</code>.</p>
<p>This is the call to compute the (completely) standardized indirect
effect:</p>
<div class="sourceCode" id="cb22"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">out_med_stdxy</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/cond_indirect.html">indirect_effect</a></span><span class="op">(</span>x <span class="op">=</span> <span class="st">"x"</span>,</span>
<span>                                 y <span class="op">=</span> <span class="st">"y"</span>,</span>
<span>                                 m <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"m1"</span>, <span class="st">"m2"</span><span class="op">)</span>,</span>
<span>                                 fit <span class="op">=</span> <span class="va">fit_med</span>,</span>
<span>                                 boot_ci <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>                                 boot_out <span class="op">=</span> <span class="va">out_med</span>,</span>
<span>                                 standardized_x <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>                                 standardized_y <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span>
<span><span class="va">out_med_stdxy</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; == Indirect Effect (Both 'x' and 'y' Standardized) ==</span></span>
<span><span class="co">#&gt;                                        </span></span>
<span><span class="co">#&gt;  Path:               x -&gt; m1 -&gt; m2 -&gt; y</span></span>
<span><span class="co">#&gt;  Indirect Effect:    0.086             </span></span>
<span><span class="co">#&gt;  95.0% Bootstrap CI: [0.017 to 0.183]  </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Computation Formula:</span></span>
<span><span class="co">#&gt;   (b.m1~x)*(b.m2~m1)*(b.y~m2)*sd_x/sd_y</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Computation:</span></span>
<span><span class="co">#&gt;   (0.82244)*(0.42078)*(0.52077)*(0.95010)/(1.99960)</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Percentile confidence interval formed by nonparametric bootstrapping</span></span>
<span><span class="co">#&gt; with 500 bootstrap samples.</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Coefficients of Component Paths:</span></span>
<span><span class="co">#&gt;   Path Coefficient</span></span>
<span><span class="co">#&gt;   m1~x       0.822</span></span>
<span><span class="co">#&gt;  m2~m1       0.421</span></span>
<span><span class="co">#&gt;   y~m2       0.521</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; NOTE:</span></span>
<span><span class="co">#&gt; - The effects of the component paths are from the model, not</span></span>
<span><span class="co">#&gt;   standardized.</span></span></code></pre></div>
<p>The indirect effect from <code>x</code> to <code>y</code> through
<code>m1</code> and <code>m2</code> is 0.086, with a 95% confidence
interval of [0.017, 0.183], significantly different from zero
(<em>p</em> &lt; .05). One SD increase of <code>x</code> leads to 0.086
increase in SD of <code>y</code> through <code>m1</code> and
<code>m2</code>.</p>
</div>
<div class="section level3">
<h3 id="estimating-indirect-effects-for-any-paths">Estimating Indirect Effects For <em>Any</em> Paths<a class="anchor" aria-label="anchor" href="#estimating-indirect-effects-for-any-paths"></a>
</h3>
<p><code><a href="../reference/cond_indirect.html">indirect_effect()</a></code> can be used for the indirect effect in
<em>any</em> path in a path model.</p>
<p>For example, to estimate and test the indirect effect from
<code>x</code> through <code>m2</code> to <code>y</code>, bypassing
<code>m1</code>, simply set <code>x</code> to <code>"x"</code>,
<code>y</code> to <code>"y"</code>, and <code>m</code> to
<code>"m2"</code>:</p>
<div class="sourceCode" id="cb23"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">out_x_m2_y</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/cond_indirect.html">indirect_effect</a></span><span class="op">(</span>x <span class="op">=</span> <span class="st">"x"</span>,</span>
<span>                              y <span class="op">=</span> <span class="st">"y"</span>,</span>
<span>                              m <span class="op">=</span> <span class="st">"m2"</span>,</span>
<span>                              fit <span class="op">=</span> <span class="va">fit_med</span>,</span>
<span>                              boot_ci <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>                              boot_out <span class="op">=</span> <span class="va">out_med</span><span class="op">)</span></span>
<span><span class="va">out_x_m2_y</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; == Indirect Effect  ==</span></span>
<span><span class="co">#&gt;                                       </span></span>
<span><span class="co">#&gt;  Path:               x -&gt; m2 -&gt; y     </span></span>
<span><span class="co">#&gt;  Indirect Effect:    -0.060           </span></span>
<span><span class="co">#&gt;  95.0% Bootstrap CI: [-0.232 to 0.097]</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Computation Formula:</span></span>
<span><span class="co">#&gt;   (b.m2~x)*(b.y~m2)</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Computation:</span></span>
<span><span class="co">#&gt;   (-0.11610)*(0.52077)</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Percentile confidence interval formed by nonparametric bootstrapping</span></span>
<span><span class="co">#&gt; with 500 bootstrap samples.</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Coefficients of Component Paths:</span></span>
<span><span class="co">#&gt;  Path Coefficient</span></span>
<span><span class="co">#&gt;  m2~x      -0.116</span></span>
<span><span class="co">#&gt;  y~m2       0.521</span></span></code></pre></div>
<p>The indirect effect along this path is not significant.</p>
<p>Similarly, indirect effects from <code>m1</code> through
<code>m2</code> to <code>y</code> or from <code>x</code> through
<code>m1</code> to <code>y</code> can also be tested by setting the
three arguments accordingly. Although <code>c1</code> and
<code>c2</code> are labelled as control variables, if appropriate, their
indirect effects on <code>y</code> through <code>m1</code> and/or
<code>m2</code> can also be computed and tested.</p>
</div>
<div class="section level3">
<h3 id="total-indirect-effects-and-total-effects">Total Indirect Effects and Total Effects<a class="anchor" aria-label="anchor" href="#total-indirect-effects-and-total-effects"></a>
</h3>
<p>Addition (<code>+</code>) and subtraction (<code>-</code>) can be
applied to the outputs of <code><a href="../reference/cond_indirect.html">indirect_effect()</a></code>. For example,
the total <em>indirect</em> effect from <code>x</code> to <code>y</code>
is the sum of these indirect effects:</p>
<ul>
<li><p><code>x -&gt; m1 -&gt; m2 -&gt; y</code></p></li>
<li><p><code>x -&gt; m1 -&gt; y</code></p></li>
<li><p><code>x -&gt; m2 -&gt; y</code></p></li>
</ul>
<p>Two of them have been computed above (<code>out_med</code> and
<code>out_x_m2_y</code>). We compute the indirect effect in
<code>x -&gt; m1 -&gt; y</code></p>
<div class="sourceCode" id="cb24"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">out_x_m1_y</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/cond_indirect.html">indirect_effect</a></span><span class="op">(</span>x <span class="op">=</span> <span class="st">"x"</span>,</span>
<span>                              y <span class="op">=</span> <span class="st">"y"</span>,</span>
<span>                              m <span class="op">=</span> <span class="st">"m1"</span>,</span>
<span>                              fit <span class="op">=</span> <span class="va">fit_med</span>,</span>
<span>                              boot_ci <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>                              boot_out <span class="op">=</span> <span class="va">out_med</span><span class="op">)</span></span>
<span><span class="va">out_x_m1_y</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; == Indirect Effect  ==</span></span>
<span><span class="co">#&gt;                                        </span></span>
<span><span class="co">#&gt;  Path:               x -&gt; m1 -&gt; y      </span></span>
<span><span class="co">#&gt;  Indirect Effect:    -0.358            </span></span>
<span><span class="co">#&gt;  95.0% Bootstrap CI: [-0.747 to -0.017]</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Computation Formula:</span></span>
<span><span class="co">#&gt;   (b.m1~x)*(b.y~m1)</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Computation:</span></span>
<span><span class="co">#&gt;   (0.82244)*(-0.43534)</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Percentile confidence interval formed by nonparametric bootstrapping</span></span>
<span><span class="co">#&gt; with 500 bootstrap samples.</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Coefficients of Component Paths:</span></span>
<span><span class="co">#&gt;  Path Coefficient</span></span>
<span><span class="co">#&gt;  m1~x       0.822</span></span>
<span><span class="co">#&gt;  y~m1      -0.435</span></span></code></pre></div>
<p>We can then “add” the indirect effects to get the total indirect
effect:</p>
<div class="sourceCode" id="cb25"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">total_ind</span> <span class="op">&lt;-</span> <span class="va">out_med</span> <span class="op">+</span> <span class="va">out_x_m1_y</span> <span class="op">+</span> <span class="va">out_x_m2_y</span></span>
<span><span class="va">total_ind</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; == Indirect Effect  ==</span></span>
<span><span class="co">#&gt;                                         </span></span>
<span><span class="co">#&gt;  Path:                x -&gt; m1 -&gt; m2 -&gt; y</span></span>
<span><span class="co">#&gt;  Path:                x -&gt; m1 -&gt; y      </span></span>
<span><span class="co">#&gt;  Path:                x -&gt; m2 -&gt; y      </span></span>
<span><span class="co">#&gt;  Function of Effects: -0.238            </span></span>
<span><span class="co">#&gt;  95.0% Bootstrap CI:  [-0.596 to 0.092] </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Computation of the Function of Effects:</span></span>
<span><span class="co">#&gt;  ((x-&gt;m1-&gt;m2-&gt;y)</span></span>
<span><span class="co">#&gt; +(x-&gt;m1-&gt;y))</span></span>
<span><span class="co">#&gt; +(x-&gt;m2-&gt;y) </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Percentile confidence interval formed by nonparametric bootstrapping</span></span>
<span><span class="co">#&gt; with 500 bootstrap samples.</span></span></code></pre></div>
<p>The total indirect effect is -0.238, not significant. This is an
example of inconsistent mediation: some of the indirect Effects are
positive and some are negative:</p>
<div class="sourceCode" id="cb26"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/stats/coef.html" class="external-link">coef</a></span><span class="op">(</span><span class="va">out_med</span><span class="op">)</span></span>
<span><span class="co">#&gt;       y~x </span></span>
<span><span class="co">#&gt; 0.1802238</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/stats/coef.html" class="external-link">coef</a></span><span class="op">(</span><span class="va">out_x_m1_y</span><span class="op">)</span></span>
<span><span class="co">#&gt;        y~x </span></span>
<span><span class="co">#&gt; -0.3580391</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/stats/coef.html" class="external-link">coef</a></span><span class="op">(</span><span class="va">out_x_m2_y</span><span class="op">)</span></span>
<span><span class="co">#&gt;       y~x </span></span>
<span><span class="co">#&gt; -0.060461</span></span></code></pre></div>
<p>Similarly, the total effect of <code>x</code> on <code>y</code> can
be computed by adding all the effects, direct or indirect. The direct
effect can be computed with <code>m</code> not set:</p>
<div class="sourceCode" id="cb27"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">out_x_direct</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/cond_indirect.html">indirect_effect</a></span><span class="op">(</span>x <span class="op">=</span> <span class="st">"x"</span>,</span>
<span>                                y <span class="op">=</span> <span class="st">"y"</span>,</span>
<span>                                fit <span class="op">=</span> <span class="va">fit_med</span>,</span>
<span>                                boot_ci <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>                                boot_out <span class="op">=</span> <span class="va">out_med</span><span class="op">)</span></span>
<span><span class="va">out_x_direct</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; ==  Effect  ==</span></span>
<span><span class="co">#&gt;                                       </span></span>
<span><span class="co">#&gt;  Path:               x -&gt; y           </span></span>
<span><span class="co">#&gt;  Effect:             0.493            </span></span>
<span><span class="co">#&gt;  95.0% Bootstrap CI: [-0.041 to 1.045]</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Computation Formula:</span></span>
<span><span class="co">#&gt;   (b.y~x)</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Computation:</span></span>
<span><span class="co">#&gt;   (0.49285)</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Percentile confidence interval formed by nonparametric bootstrapping</span></span>
<span><span class="co">#&gt; with 500 bootstrap samples.</span></span></code></pre></div>
<p>This is the total effect:</p>
<div class="sourceCode" id="cb28"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">total_effect</span> <span class="op">&lt;-</span> <span class="va">out_med</span> <span class="op">+</span> <span class="va">out_x_m1_y</span> <span class="op">+</span> <span class="va">out_x_m2_y</span> <span class="op">+</span> <span class="va">out_x_direct</span></span>
<span><span class="va">total_effect</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; == Indirect Effect  ==</span></span>
<span><span class="co">#&gt;                                         </span></span>
<span><span class="co">#&gt;  Path:                x -&gt; m1 -&gt; m2 -&gt; y</span></span>
<span><span class="co">#&gt;  Path:                x -&gt; m1 -&gt; y      </span></span>
<span><span class="co">#&gt;  Path:                x -&gt; m2 -&gt; y      </span></span>
<span><span class="co">#&gt;  Path:                x -&gt; y            </span></span>
<span><span class="co">#&gt;  Function of Effects: 0.255             </span></span>
<span><span class="co">#&gt;  95.0% Bootstrap CI:  [-0.200 to 0.731] </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Computation of the Function of Effects:</span></span>
<span><span class="co">#&gt;  (((x-&gt;m1-&gt;m2-&gt;y)</span></span>
<span><span class="co">#&gt; +(x-&gt;m1-&gt;y))</span></span>
<span><span class="co">#&gt; +(x-&gt;m2-&gt;y))</span></span>
<span><span class="co">#&gt; +(x-&gt;y) </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Percentile confidence interval formed by nonparametric bootstrapping</span></span>
<span><span class="co">#&gt; with 500 bootstrap samples.</span></span></code></pre></div>
<p>The total effect is 0.255, not significant. This illustrates that
total effect can be misleading when the component paths are of different
signs.</p>
<p>See <code><a href="../reference/math_indirect.html">help(math_indirect)</a></code> for more information of addition
and subtraction for the output of <code><a href="../reference/cond_indirect.html">indirect_effect()</a></code>.</p>
</div>
</div>
<div class="section level2">
<h2 id="summary">Summary<a class="anchor" aria-label="anchor" href="#summary"></a>
</h2>
<div class="section level3">
<h3 id="advantages">Advantages<a class="anchor" aria-label="anchor" href="#advantages"></a>
</h3>
<ul>
<li><p>The model fitting stage is easier. No need to label any
parameters or define any effects. Users can also use other methods for
confidence interval and use bootstrapping only for indirect effects and
conditional indirect effects.</p></li>
<li><p>Missing data can be be handled by <code>missing = "fiml"</code>
in calling <code><a href="https://rdrr.io/pkg/lavaan/man/sem.html" class="external-link">lavaan::sem()</a></code>. Because bootstrapping estimates
are used in Stage 2, indirect effects and conditional indirect effects
can also be computed with bootstrap confidence intervals, just like
defining them in <code>lavaan</code>, in the presence of missing
data.</p></li>
<li><p>Missing data handled by multiple imputation is also supported
since version 0.1.9.8. Models fitted by <code><a href="https://rdrr.io/pkg/semTools/man/runMI.html" class="external-link">semTools::sem.mi()</a></code>
or <code><a href="https://rdrr.io/pkg/semTools/man/runMI.html" class="external-link">semTools::runMI()</a></code> to multiple imputation datasets can be
used just like the output of <code><a href="https://rdrr.io/pkg/lavaan/man/sem.html" class="external-link">lavaan::sem()</a></code>. Monte Carlo
confidence intervals cna be formed for effects computed for these models
(see <code><a href="../articles/do_mc_lavaan_mi.html">vignette("do_mc_lavaan_mi")</a></code>).</p></li>
<li><p>Bootstrapping only needs to be done once. The bootstrap estimates
can be reused in computing indirect effects and conditional indirect
effects. This is particularly useful when the sample size is large and
there is missing data.</p></li>
<li><p>Users can explore any path for any levels of the moderators
without respecifying and refitting the model.</p></li>
<li><p>Flexibility makes it difficult to test all possible scenarios.
Therefore, the print methods will also print the details of the
computation (e.g., how an indirect effect is computed) so that users can
(a) understand how each effect is computed, and (b) verify the
computation if necessary.</p></li>
</ul>
<p>See <a href="https://sfcheung.github.io/manymome/index.html#advantages">this
section</a> for other advantages.</p>
</div>
<div class="section level3">
<h3 id="limitations">Limitations<a class="anchor" aria-label="anchor" href="#limitations"></a>
</h3>
<p>The package <code>manymome</code> supports “many” models … but
certainly not all. There are models that it does not yet support. For
example, it does not support a path that starts with a nominal
categorical variable (except for a dichotomous variable). Other tools
need to be used for these cases. See <a href="https://sfcheung.github.io/manymome/index.html#limitations">this
section</a> for other limitations.</p>
</div>
<div class="section level3">
<h3 id="other-uses-and-scenarios">Other Uses and Scenarios<a class="anchor" aria-label="anchor" href="#other-uses-and-scenarios"></a>
</h3>
<p>There are other options available in <code>manymome</code>. For
example, it can be used for categorical moderators and models fitted by
multiple regression. Please refer to the help page and examples of the
functions, or other <a href="https://sfcheung.github.io/manymome/articles/">articles</a>. More
articles will be added in the future for other scenarios.</p>
</div>
<div class="section level3">
<h3 id="monte-carlo-confidence-intervals">Monte Carlo Confidence Intervals<a class="anchor" aria-label="anchor" href="#monte-carlo-confidence-intervals"></a>
</h3>
<p>Monte Carlo confidence intervals can also be formed using the
functions illustrated above. First use <code><a href="../reference/do_mc.html">do_mc()</a></code> instead of
<code><a href="../reference/do_boot.html">do_boot()</a></code> to generate simulated sample estimates. When
calling other main functions, use <code>mc_ci = TRUE</code> and set
<code>mc_out</code> to the output of <code><a href="../reference/do_mc.html">do_mc()</a></code>. Please refer
to <code><a href="../articles/do_mc.html">vignette("do_mc")</a></code> for an illustration, and
<code><a href="../articles/do_mc_lavaan_mi.html">vignette("do_mc_lavaan_mi")</a></code> on how to form Monte Carlo
confidence intervals for models fitted to multiple imputation
datasets.</p>
</div>
</div>
<div class="section level2">
<h2 id="references">References<a class="anchor" aria-label="anchor" href="#references"></a>
</h2>
<p>Cheung, M. W.-L. (2009). Comparison of methods for constructing
confidence intervals of standardized indirect effects. <em>Behavior
Research Methods, 41</em>(2), 425-438. <a href="https://doi.org/10.3758/BRM.41.2.425" class="external-link uri">https://doi.org/10.3758/BRM.41.2.425</a></p>
<p>Cheung, S. F., &amp; Cheung, S.-H. (2023). <em>manymome</em>: An R
package for computing the indirect effects, conditional effects, and
conditional indirect effects, standardized or unstandardized, and their
bootstrap confidence intervals, in many (though not all) models.
<em>Behavior Research Methods</em>. <a href="https://doi.org/10.3758/s13428-023-02224-z" class="external-link uri">https://doi.org/10.3758/s13428-023-02224-z</a></p>
<p>Falk, C. F., &amp; Biesanz, J. C. (2015). Inference and interval
estimation methods for indirect effects with latent variable models.
<em>Structural Equation Modeling: A Multidisciplinary Journal,
22</em>(1), 24–38. <a href="https://doi.org/10.1080/10705511.2014.935266" class="external-link uri">https://doi.org/10.1080/10705511.2014.935266</a></p>
<p>Friedrich, R. J. (1982). In defense of multiplicative terms in
multiple regression equations. <em>American Journal of Political
Science, 26</em>(4), 797-833. <a href="https://doi.org/10.2307/2110973" class="external-link uri">https://doi.org/10.2307/2110973</a></p>
<p>Hayes, A. F. (2015). An index and test of linear moderated mediation.
<em>Multivariate Behavioral Research, 50</em>(1), 1-22. <a href="https://doi.org/10.1080/00273171.2014.962683" class="external-link uri">https://doi.org/10.1080/00273171.2014.962683</a></p>
<p>Hayes, A. F. (2018). Partial, conditional, and moderated moderated
mediation: Quantification, inference, and interpretation.
<em>Communication Monographs, 85</em>(1), 4-40. <a href="https://doi.org/10.1080/03637751.2017.1352100" class="external-link uri">https://doi.org/10.1080/03637751.2017.1352100</a></p>
<p>Hayes, A. F. (2022). <em>Introduction to mediation, moderation, and
conditional process analysis: A regression-based approach</em> (Third
Edition). The Guilford Press.</p>
<p>Kwan, J. L. Y., &amp; Chan, W. (2018). Variable system: An
alternative approach for the analysis of mediated moderation.
<em>Psychological Methods, 23</em>(2), 262-277. <a href="https://doi.org/10.1037/met0000160" class="external-link uri">https://doi.org/10.1037/met0000160</a></p>
<p>Miles, J. N. V., Kulesza, M., Ewing, B., Shih, R. A., Tucker, J. S.,
&amp; D’Amico, E. J. (2015). Moderated mediation analysis: An
illustration using the association of gender with delinquency and mental
health. <em>Journal of Criminal Psychology, 5</em>(2), 99-123. <a href="https://doi.org/10.1108/JCP-02-2015-0010" class="external-link uri">https://doi.org/10.1108/JCP-02-2015-0010</a></p>
<p>Tofighi, D., &amp; Kelley, K. (2020). Indirect effects in sequential
mediation models: Evaluating methods for hypothesis testing and
confidence interval formation. <em>Multivariate Behavioral Research,
55</em>(2), 188–210. <a href="https://doi.org/10.1080/00273171.2019.1618545" class="external-link uri">https://doi.org/10.1080/00273171.2019.1618545</a></p>
</div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="pkgdown-footer-left">
  <p>Developed by Shu Fai Cheung, Sing-Hang Cheung.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.1.</p>
</div>

    </footer>
</div>





  </body>
</html>
