<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="description" content="manymome">
<title>manymome â€¢ manymome</title>
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.1.3/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.1.3/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- bootstrap-toc --><script src="https://cdn.rawgit.com/afeld/bootstrap-toc/v1.0.1/dist/bootstrap-toc.min.js"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="manymome">
<meta property="og:description" content="manymome">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-light navbar-expand-lg bg-light"><div class="container">
    
    <a class="navbar-brand me-2" href="../index.html">manymome</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.0.1.9036</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="active nav-item">
  <a class="nav-link" href="../articles/manymome.html">Get started</a>
</li>
<li class="nav-item">
  <a class="nav-link" href="../reference/index.html">Reference</a>
</li>
<li class="nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-articles">Articles</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-articles">
    <a class="dropdown-item" href="../articles/mediation.html">Mediation</a>
    <a class="dropdown-item" href="../articles/moderated_mediation.html">Moderated Mediation</a>
    <a class="dropdown-item" href="../articles/moderated_mediation_cat.html">Moderated Mediation - Categorical Moderators</a>
    <a class="dropdown-item" href="../articles/moderation.html">Moderation</a>
    <a class="dropdown-item" href="../articles/moderation_cat.html">Moderation Models - Categorical Moderators</a>
  </div>
</li>
<li class="nav-item">
  <a class="nav-link" href="../news/index.html">Changelog</a>
</li>
      </ul>
<form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off">
</form>

      <ul class="navbar-nav">
<li class="nav-item">
  <a class="external-link nav-link" href="https://github.com/sfcheung/manymome/" aria-label="github">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>

    
  </div>
</nav><div class="container template-article">



<script src="manymome_files/accessible-code-block-0.0.1/empty-anchor.js"></script><div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="" class="logo" alt=""><h1>manymome</h1>
                        <h4 data-toc-skip class="author">Shu Fai Cheung</h4>
            
            <h4 data-toc-skip class="date">2022-08-08</h4>
      
      <small class="dont-index">Source: <a href="https://github.com/sfcheung/manymome/blob/HEAD/vignettes/manymome.Rmd" class="external-link"><code>vignettes/manymome.Rmd</code></a></small>
      <div class="d-none name"><code>manymome.Rmd</code></div>
    </div>

    
    
<div class="section level2">
<h2 id="introduction">Introduction<a class="anchor" aria-label="anchor" href="#introduction"></a>
</h2>
<p>This article is a brief illustration on how <code>manymome</code> functions are used in some typical cases. The model is intended to be simple (though with two moderators). See the section <a href="#other-cases">Other Cases</a> for other models supported, and how to use the function for models fitted by structural equation modelings using <code><a href="https://rdrr.io/pkg/lavaan/man/sem.html" class="external-link">lavaan::sem()</a></code>, including models with latent variables.</p>
</div>
<div class="section level2">
<h2 id="moderated-mediation-by-regression">Moderated Mediation by Regression<a class="anchor" aria-label="anchor" href="#moderated-mediation-by-regression"></a>
</h2>
<p>This is the sample dataset comes with the package:</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://sfcheung.github.io/manymome/">manymome</a></span><span class="op">)</span></span>
<span><span class="va">dat</span> <span class="op">&lt;-</span> <span class="va">data_med_mod_ab</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="va">dat</span><span class="op">)</span>, digits <span class="op">=</span> <span class="fl">3</span><span class="op">)</span></span>
<span><span class="co">#&gt;       x   w1   w2    m    y    c1   c2</span></span>
<span><span class="co">#&gt; 1  9.27 4.97 2.66 3.46 8.80  9.26 3.14</span></span>
<span><span class="co">#&gt; 2 10.79 4.13 3.33 4.05 7.37 10.71 5.80</span></span>
<span><span class="co">#&gt; 3 11.10 5.91 3.32 4.04 8.24 10.60 5.45</span></span>
<span><span class="co">#&gt; 4  9.53 4.78 2.32 3.54 8.37  9.22 3.83</span></span>
<span><span class="co">#&gt; 5 10.00 4.38 2.95 4.65 8.39  9.58 4.26</span></span>
<span><span class="co">#&gt; 6 12.25 5.81 4.04 4.73 9.65  9.51 4.01</span></span></code></pre></div>
<p>Suppose this is the model being fitted:</p>
<p><img src="manymome_files/figure-html/unnamed-chunk-3-1.png" width="700"></p>
<div class="section level3">
<h3 id="estimating-the-coefficients">Estimating the Coefficients<a class="anchor" aria-label="anchor" href="#estimating-the-coefficients"></a>
</h3>
<p>This is a moderated mediation model with</p>
<ul>
<li><p>a mediation path <code>x -&gt; m -&gt; y</code>, and</p></li>
<li><p>two moderators: <code>x -&gt; m</code> moderated by <code>w1</code> and <code>m -&gt; y</code> moderated by <code>w2</code>.</p></li>
</ul>
<p>The effects of interest are the <em>conditional indirect effects</em>: the indirect effects from <code>x</code> to <code>y</code> through <code>m</code> for different levels of <code>w1</code> and <code>w2</code>.</p>
<p>The effects in this moderated mediation model can be estimated by multiple regression approach in R using <code><a href="https://rdrr.io/r/stats/lm.html" class="external-link">lm()</a></code>.</p>
<p>First, <code>m</code> is regressed on <code>x</code>, <code>w1</code>, and their interaction:</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">lm_m</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/stats/lm.html" class="external-link">lm</a></span><span class="op">(</span><span class="va">m</span> <span class="op">~</span> <span class="va">x</span> <span class="op">*</span> <span class="va">w1</span>, <span class="va">dat</span><span class="op">)</span></span></code></pre></div>
<p>Second, <code>y</code> is regressed on <code>m</code>, <code>w2</code>, their interaction, and <code>x</code>:</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">lm_y</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/stats/lm.html" class="external-link">lm</a></span><span class="op">(</span><span class="va">y</span> <span class="op">~</span> <span class="va">m</span> <span class="op">*</span> <span class="va">w2</span> <span class="op">+</span> <span class="va">x</span>, <span class="va">dat</span><span class="op">)</span></span></code></pre></div>
<p>These are the coefficients:</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/stats/printCoefmat.html" class="external-link">printCoefmat</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/summary.html" class="external-link">summary</a></span><span class="op">(</span><span class="va">lm_m</span><span class="op">)</span><span class="op">$</span><span class="va">coefficients</span>, digits <span class="op">=</span> <span class="fl">3</span>, signif.legend <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></span>
<span><span class="co">#&gt;             Estimate Std. Error t value Pr(&gt;|t|)  </span></span>
<span><span class="co">#&gt; (Intercept)  11.6273     4.8501    2.40    0.018 *</span></span>
<span><span class="co">#&gt; x            -0.6342     0.5006   -1.27    0.208  </span></span>
<span><span class="co">#&gt; w1           -2.2551     0.9654   -2.34    0.022 *</span></span>
<span><span class="co">#&gt; x:w1          0.1998     0.0958    2.09    0.040 *</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/stats/printCoefmat.html" class="external-link">printCoefmat</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/summary.html" class="external-link">summary</a></span><span class="op">(</span><span class="va">lm_y</span><span class="op">)</span><span class="op">$</span><span class="va">coefficients</span>, digits <span class="op">=</span> <span class="fl">3</span>, signif.legend <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></span>
<span><span class="co">#&gt;             Estimate Std. Error t value Pr(&gt;|t|)    </span></span>
<span><span class="co">#&gt; (Intercept)   8.1648     1.2779    6.39  6.2e-09 ***</span></span>
<span><span class="co">#&gt; m            -0.0936     0.2763   -0.34   0.7357    </span></span>
<span><span class="co">#&gt; w2           -0.8784     0.3409   -2.58   0.0115 *  </span></span>
<span><span class="co">#&gt; x             0.0599     0.0892    0.67   0.5038    </span></span>
<span><span class="co">#&gt; m:w2          0.1926     0.0726    2.65   0.0094 **</span></span></code></pre></div>
<p>Both moderation effects are significant. Because the indirect effect is moderated on both stages (<code>x -&gt; m</code> and <code>m -&gt; y</code>), the magnitude of the indirect effect depends on <code>w1</code> and <code>w2</code>. The indirect effect conditional on the moderators is called the <em>conditional</em> <em>indirect</em> <em>effect</em>. Moreover, like a mediation effect without moderation, its confidence interval can be formed by nonparametric bootstrapping.</p>
<p>To compute conditional indirect effects and form bootstrap confidence intervals, we can use <code><a href="../reference/cond_indirect.html">cond_indirect_effects()</a></code>.</p>
</div>
<div class="section level3">
<h3 id="estimating-conditional-indirect-effects">Estimating Conditional Indirect Effects<a class="anchor" aria-label="anchor" href="#estimating-conditional-indirect-effects"></a>
</h3>
<p>This is the call to compute the conditional indirect effects:</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">out_lm</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/cond_indirect.html">cond_indirect_effects</a></span><span class="op">(</span>wlevels <span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"w1"</span>, <span class="st">"w2"</span><span class="op">)</span>,</span>
<span>                                x <span class="op">=</span> <span class="st">"x"</span>,</span>
<span>                                y <span class="op">=</span> <span class="st">"y"</span>,</span>
<span>                                m <span class="op">=</span> <span class="st">"m"</span>,</span>
<span>                                fit <span class="op">=</span> <span class="fu"><a href="../reference/lm2list.html">lm2list</a></span><span class="op">(</span><span class="va">lm_m</span>, <span class="va">lm_y</span><span class="op">)</span>,</span>
<span>                                boot_ci <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>                                R <span class="op">=</span> <span class="fl">500</span>,</span>
<span>                                seed <span class="op">=</span> <span class="fl">43143</span><span class="op">)</span></span></code></pre></div>
<p>These are the major arguments:</p>
<ul>
<li>
<code>wlevels</code>: The vector of the names of the moderators.</li>
<li>
<code>x</code>: The name of the predictor.</li>
<li>
<code>y</code>: The name of the outcome variable.</li>
<li>
<code>m</code>: The name of the mediator, or a vector of names if the pathway has more than one mediator.</li>
<li>
<code>fit</code>: The list of the output of <code><a href="https://rdrr.io/r/stats/lm.html" class="external-link">lm()</a></code>.</li>
<li>
<code>boot_ci</code>: Set to <code>TRUE</code> to request bootstrapping confidence intervals. Default is <code>FALSE</code>.</li>
<li>
<code>R</code>: The number of bootstrap samples. Only 500 bootstrap samples for illustration. Set <code>R</code> to 2000 or even 5000 in real research.</li>
<li>
<code>seed</code>: The seed for the random number generator.</li>
</ul>
<p>This is the output:</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">out_lm</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; == Conditional indirect effects ==</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt;  Path: x -&gt; m -&gt; y</span></span>
<span><span class="co">#&gt;  Conditional on moderator(s): w1, w2</span></span>
<span><span class="co">#&gt;  Moderator(s) represented by: w1, w2</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt;      [w1]    [w2]  (w1)  (w2)   ind  CI.lo CI.hi Sig   m~x   y~m</span></span>
<span><span class="co">#&gt; 1 M+1.0SD M+1.0SD 6.173 4.040 0.410  0.106 0.745 Sig 0.599 0.685</span></span>
<span><span class="co">#&gt; 2 M+1.0SD M-1.0SD 6.173 2.055 0.181 -0.001 0.437     0.599 0.302</span></span>
<span><span class="co">#&gt; 3 M-1.0SD M+1.0SD 4.038 4.040 0.118 -0.089 0.398     0.173 0.685</span></span>
<span><span class="co">#&gt; 4 M-1.0SD M-1.0SD 4.038 2.055 0.052 -0.041 0.222     0.173 0.302</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt;  - [CI.lo to CI.hi] are 95.0% percentile confidence intervals by</span></span>
<span><span class="co">#&gt;    nonparametric bootstrapping with 500 samples.</span></span>
<span><span class="co">#&gt;  - The 'ind' column shows the indirect effects.</span></span>
<span><span class="co">#&gt;  - 'm~x','y~m' is/are the path coefficient(s) along the path conditional</span></span>
<span><span class="co">#&gt;    on the moderators.</span></span></code></pre></div>
<p>For two or more moderators, the default levels for numeric moderators are one standard deviation below mean and one standard deviation above mean. For two moderators, there are four combinations. As shown above, among these levels, the indirect effect from <code>x</code> to <code>y</code> through <code>m</code> is significant only when both <code>w1</code> and <code>w2</code> are one standard deviation above mean. The indirect effect at these levels of <code>w1</code> and <code>w2</code> are 0.410, with 95% bootstrap confidence interval [0.106, 0.745].</p>
</div>
<div class="section level3">
<h3 id="standardized-conditional-indirect-effects">Standardized Conditional Indirect Effects<a class="anchor" aria-label="anchor" href="#standardized-conditional-indirect-effects"></a>
</h3>
<p>To compute the conditional indirect effects, we can standardize only the predictor (<code>x</code>), only the outcome (<code>y</code>), or both.</p>
<p>To standardize <code>x</code>, set <code>standardized_x</code> to <code>TRUE</code>. To standardize <code>y</code>, set <code>standardized_y</code> to <code>TRUE</code>. To standardize both, set both <code>standardized_x</code> and <code>standardized_y</code> to <code>TRUE</code>.</p>
<p>This is the result when both <code>x</code> and <code>y</code> are standardized:</p>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">out_lm_stdxy</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/cond_indirect.html">cond_indirect_effects</a></span><span class="op">(</span>wlevels <span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"w1"</span>, <span class="st">"w2"</span><span class="op">)</span>,</span>
<span>                                x <span class="op">=</span> <span class="st">"x"</span>,</span>
<span>                                y <span class="op">=</span> <span class="st">"y"</span>,</span>
<span>                                m <span class="op">=</span> <span class="st">"m"</span>,</span>
<span>                                fit <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="va">lm_m</span>, <span class="va">lm_y</span><span class="op">)</span>,</span>
<span>                                boot_ci <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>                                R <span class="op">=</span> <span class="fl">500</span>,</span>
<span>                                seed <span class="op">=</span> <span class="fl">43143</span>,</span>
<span>                                standardized_x <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>                                standardized_y <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span>
<span><span class="va">out_lm_stdxy</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; == Conditional indirect effects ==</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt;  Path: x -&gt; m -&gt; y</span></span>
<span><span class="co">#&gt;  Conditional on moderator(s): w1, w2</span></span>
<span><span class="co">#&gt;  Moderator(s) represented by: w1, w2</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt;      [w1]    [w2]  (w1)  (w2)   std  CI.lo CI.hi Sig   m~x   y~m   ind</span></span>
<span><span class="co">#&gt; 1 M+1.0SD M+1.0SD 6.173 4.040 0.412  0.115 0.700 Sig 0.599 0.685 0.410</span></span>
<span><span class="co">#&gt; 2 M+1.0SD M-1.0SD 6.173 2.055 0.182 -0.002 0.380     0.599 0.302 0.181</span></span>
<span><span class="co">#&gt; 3 M-1.0SD M+1.0SD 4.038 4.040 0.119 -0.088 0.400     0.173 0.685 0.118</span></span>
<span><span class="co">#&gt; 4 M-1.0SD M-1.0SD 4.038 2.055 0.052 -0.042 0.226     0.173 0.302 0.052</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt;  - [CI.lo to CI.hi] are 95.0% percentile confidence intervals by</span></span>
<span><span class="co">#&gt;    nonparametric bootstrapping with 500 samples.</span></span>
<span><span class="co">#&gt;  - std: The standardized indirect effects. </span></span>
<span><span class="co">#&gt;  - ind: The unstandardized indirect effects.</span></span>
<span><span class="co">#&gt;  - 'm~x','y~m' is/are the path coefficient(s) along the path conditional</span></span>
<span><span class="co">#&gt;    on the moderators.</span></span></code></pre></div>
<p>The standardized indirect effect when both <code>w1</code> and <code>w2</code> are one standard deviation above mean is 0.412, with 95% bootstrap confidence interval [0.115, 0.700].</p>
</div>
<div class="section level3">
<h3 id="plotting-the-conditional-total-effects">Plotting the Conditional Total Effects<a class="anchor" aria-label="anchor" href="#plotting-the-conditional-total-effects"></a>
</h3>
<p>The output of <code><a href="../reference/cond_indirect.html">cond_indirect_effects()</a></code> is a <code>cond_indirect_effects</code>-class object with a <code>plot</code> method, which plot the <em>total</em> effect along a path, conditional on different levels of the moderators:</p>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="va">out_lm</span><span class="op">)</span></span></code></pre></div>
<p><img src="manymome_files/figure-html/unnamed-chunk-10-1.png" width="700"></p>
<p>By default, the two end points of each line are one standard deviation below and one standard above this mean of the predictor (<code>x</code>).</p>
<p>The plot reveals patterns not apparent from the conditional effects. Although the indirect effect does increase when either <code>w1</code> or <code>w2</code> increases, the coefficients of <code>w1</code> (-2.2551) and <code>w2</code> (-0.8784) are both negative. Therefore, the combined effects of the increases of <code>w1</code> and <code>w2</code> decreases <code>y</code> and move the line downward.</p>
<p>Options to customize the plot can be found on the help page of <code><a href="../reference/plot.cond_indirect_effects.html">plot.cond_indirect_effects()</a></code>.</p>
</div>
</div>
<div class="section level2">
<h2 id="mediation-only">Mediation Only<a class="anchor" aria-label="anchor" href="#mediation-only"></a>
</h2>
<p>The package can also be used for a mediation model.</p>
<p>This is the sample dataset comes with the package:</p>
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://sfcheung.github.io/manymome/">manymome</a></span><span class="op">)</span></span>
<span><span class="va">dat</span> <span class="op">&lt;-</span> <span class="va">data_serial</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="va">dat</span><span class="op">)</span>, digits <span class="op">=</span> <span class="fl">3</span><span class="op">)</span></span>
<span><span class="co">#&gt;       x   m1    m2     y        c1   c2</span></span>
<span><span class="co">#&gt; 1 12.12 20.6  9.33  9.00  0.109262 6.01</span></span>
<span><span class="co">#&gt; 2  9.81 18.2  9.47 11.56 -0.124014 6.42</span></span>
<span><span class="co">#&gt; 3 10.11 20.3 10.05  9.35  4.278608 5.34</span></span>
<span><span class="co">#&gt; 4 10.07 19.7 10.17 11.41  1.245356 5.59</span></span>
<span><span class="co">#&gt; 5 11.91 20.5 10.05 14.26 -0.000932 5.34</span></span>
<span><span class="co">#&gt; 6  9.13 16.5  8.93 10.01  1.802727 5.91</span></span></code></pre></div>
<p>Suppose this is the model being fitted, with <code>c1</code> and <code>c2</code> the control variables.</p>
<p><img src="manymome_files/figure-html/unnamed-chunk-12-1.png" width="700"></p>
<div class="section level3">
<h3 id="estimating-parameters">Estimating Parameters<a class="anchor" aria-label="anchor" href="#estimating-parameters"></a>
</h3>
<p>These coefficients can be estimated by three regression models:</p>
<p>"m1 ~ x + c1 + c2 m2 ~ m1 + x + c1 + c2 y ~ m2 + m1 + x + c1 + c2</p>
<div class="sourceCode" id="cb10"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">lm_m1</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/stats/lm.html" class="external-link">lm</a></span><span class="op">(</span><span class="va">m1</span> <span class="op">~</span> <span class="va">x</span> <span class="op">+</span> <span class="va">c1</span> <span class="op">+</span> <span class="va">c2</span>, <span class="va">dat</span><span class="op">)</span></span>
<span><span class="va">lm_m2</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/stats/lm.html" class="external-link">lm</a></span><span class="op">(</span><span class="va">m2</span> <span class="op">~</span> <span class="va">m1</span> <span class="op">+</span> <span class="va">x</span> <span class="op">+</span> <span class="va">c1</span> <span class="op">+</span> <span class="va">c2</span>, <span class="va">dat</span><span class="op">)</span></span>
<span><span class="va">lm_y</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/stats/lm.html" class="external-link">lm</a></span><span class="op">(</span><span class="va">y</span> <span class="op">~</span> <span class="va">m2</span> <span class="op">+</span> <span class="va">m1</span> <span class="op">+</span> <span class="va">x</span> <span class="op">+</span> <span class="va">c1</span> <span class="op">+</span> <span class="va">c2</span>, <span class="va">dat</span><span class="op">)</span></span></code></pre></div>
<p>These are the coefficients:</p>
<div class="sourceCode" id="cb11"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/stats/printCoefmat.html" class="external-link">printCoefmat</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/summary.html" class="external-link">summary</a></span><span class="op">(</span><span class="va">lm_m1</span><span class="op">)</span><span class="op">$</span><span class="va">coefficients</span>, digits <span class="op">=</span> <span class="fl">3</span>, signif.legend <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></span>
<span><span class="co">#&gt;             Estimate Std. Error t value Pr(&gt;|t|)    </span></span>
<span><span class="co">#&gt; (Intercept)  10.8157     1.1438    9.46  2.2e-15 ***</span></span>
<span><span class="co">#&gt; x             0.8224     0.0942    8.73  8.0e-14 ***</span></span>
<span><span class="co">#&gt; c1            0.1715     0.0907    1.89    0.062 .  </span></span>
<span><span class="co">#&gt; c2           -0.1889     0.0928   -2.04    0.045 *</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/stats/printCoefmat.html" class="external-link">printCoefmat</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/summary.html" class="external-link">summary</a></span><span class="op">(</span><span class="va">lm_m2</span><span class="op">)</span><span class="op">$</span><span class="va">coefficients</span>, digits <span class="op">=</span> <span class="fl">3</span>, signif.legend <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></span>
<span><span class="co">#&gt;             Estimate Std. Error t value Pr(&gt;|t|)    </span></span>
<span><span class="co">#&gt; (Intercept)   3.5194     1.5868    2.22   0.0289 *  </span></span>
<span><span class="co">#&gt; m1            0.4208     0.1019    4.13  7.8e-05 ***</span></span>
<span><span class="co">#&gt; x            -0.1161     0.1260   -0.92   0.3591    </span></span>
<span><span class="co">#&gt; c1            0.2775     0.0922    3.01   0.0033 ** </span></span>
<span><span class="co">#&gt; c2           -0.1619     0.0946   -1.71   0.0902 .</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/stats/printCoefmat.html" class="external-link">printCoefmat</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/summary.html" class="external-link">summary</a></span><span class="op">(</span><span class="va">lm_y</span><span class="op">)</span><span class="op">$</span><span class="va">coefficients</span>, digits <span class="op">=</span> <span class="fl">3</span>, signif.legend <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></span>
<span><span class="co">#&gt;             Estimate Std. Error t value Pr(&gt;|t|)  </span></span>
<span><span class="co">#&gt; (Intercept)   9.4679     3.6090    2.62    0.010 *</span></span>
<span><span class="co">#&gt; m2            0.5208     0.2275    2.29    0.024 *</span></span>
<span><span class="co">#&gt; m1           -0.4353     0.2454   -1.77    0.079 .</span></span>
<span><span class="co">#&gt; x             0.4929     0.2806    1.76    0.082 .</span></span>
<span><span class="co">#&gt; c1            0.0988     0.2140    0.46    0.645  </span></span>
<span><span class="co">#&gt; c2           -0.0960     0.2130   -0.45    0.653</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="estimating-indirect-effects">Estimating Indirect Effects<a class="anchor" aria-label="anchor" href="#estimating-indirect-effects"></a>
</h3>
<p><code><a href="../reference/cond_indirect.html">indirect_effect()</a></code> can be used to estimate the indirect effect and form its bootstrapping confidence interval along a path in a model that starts with any variable (predictor), ends with any variable (outcome variable), through any variable(s) (mediator(s)).</p>
<p>For example, this is the call for the indirect effect from <code>x</code> to <code>y</code> through <code>m1</code> and <code>m2</code>:</p>
<div class="sourceCode" id="cb12"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">out_med</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/cond_indirect.html">indirect_effect</a></span><span class="op">(</span>x <span class="op">=</span> <span class="st">"x"</span>,</span>
<span>                          y <span class="op">=</span> <span class="st">"y"</span>,</span>
<span>                          m <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"m1"</span>, <span class="st">"m2"</span><span class="op">)</span>,</span>
<span>                          fit <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="va">lm_m1</span>, <span class="va">lm_m2</span>, <span class="va">lm_y</span><span class="op">)</span>,</span>
<span>                          boot_ci <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>                          R <span class="op">=</span> <span class="fl">500</span>,</span>
<span>                          seed <span class="op">=</span> <span class="fl">43143</span><span class="op">)</span></span></code></pre></div>
<p>The main arguments are:</p>
<ul>
<li>
<code>x</code>: The name of the predictor. The start of the pathway.</li>
<li>
<code>y</code>: The name of the outcome variable. The end of the pathway</li>
<li>
<code>m</code>: The name of the mediator, or the vector of names of the mediators if the pathway has more than one mediator.</li>
<li>
<code>fit</code>: The list of the output of <code><a href="https://rdrr.io/r/stats/lm.html" class="external-link">lm()</a></code>.</li>
<li>
<code>boot_ci</code>: Set to <code>TRUE</code> to request bootstrapping confidence intervals. Default is <code>FALSE</code>.</li>
<li>
<code>R</code>: The number of bootstrap samples. Only 500 bootstrap samples for illustration. Set <code>R</code> to 2000 or even 5000 in real research.</li>
<li>
<code>seed</code>: The seed for the random number generator.</li>
</ul>
<p>This is the output:</p>
<div class="sourceCode" id="cb13"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">out_med</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; == Indirect Effect ==</span></span>
<span><span class="co">#&gt;                                        </span></span>
<span><span class="co">#&gt;  Path:               x -&gt; m1 -&gt; m2 -&gt; y</span></span>
<span><span class="co">#&gt;  Indirect Effect     0.180             </span></span>
<span><span class="co">#&gt;  95.0% Bootstrap CI: [0.034 to 0.396]  </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Computation Formula:</span></span>
<span><span class="co">#&gt;   (b.m1~x)*(b.m2~m1)*(b.y~m2)</span></span>
<span><span class="co">#&gt; Computation:</span></span>
<span><span class="co">#&gt;   (0.82244)*(0.42078)*(0.52077)</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Percentile confidence interval formed by nonparametric bootstrapping</span></span>
<span><span class="co">#&gt; with 500 bootstrap samples.</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Coefficients of Component Paths:</span></span>
<span><span class="co">#&gt;   Path Coefficient</span></span>
<span><span class="co">#&gt;   m1~x       0.822</span></span>
<span><span class="co">#&gt;  m2~m1       0.421</span></span>
<span><span class="co">#&gt;   y~m2       0.521</span></span></code></pre></div>
<p>The indirect effect from <code>x</code> to <code>y</code> through <code>m1</code> and <code>m2</code> is 0.180, with a 95% confidence interval of [0.034, 0.396], significantly different from zero (<em>p</em> &lt; .05).</p>
</div>
<div class="section level3">
<h3 id="standardized-indirect-effect">Standardized Indirect Effect<a class="anchor" aria-label="anchor" href="#standardized-indirect-effect"></a>
</h3>
<p>To compute the indirect effect with the predictor standardized, set <code>standardized_x</code> to <code>TRUE</code>. To compute the indirect effect with the outcome variable standardized, set <code>standardized_y</code> to <code>TRUE</code>. To compute the (completely) standardized indirect effect, set both <code>standardized_x</code> and <code>standardized_y</code> to <code>TRUE</code>.</p>
<p>This is the call to compute the (completely) standardized indirect effect:</p>
<div class="sourceCode" id="cb14"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">out_med_stdxy</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/cond_indirect.html">indirect_effect</a></span><span class="op">(</span>x <span class="op">=</span> <span class="st">"x"</span>,</span>
<span>                          y <span class="op">=</span> <span class="st">"y"</span>,</span>
<span>                          m <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"m1"</span>, <span class="st">"m2"</span><span class="op">)</span>,</span>
<span>                          fit <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="va">lm_m1</span>, <span class="va">lm_m2</span>, <span class="va">lm_y</span><span class="op">)</span>,</span>
<span>                          boot_ci <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>                          R <span class="op">=</span> <span class="fl">500</span>,</span>
<span>                          seed <span class="op">=</span> <span class="fl">43143</span>,</span>
<span>                          standardized_x <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>                          standardized_y <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span>
<span><span class="va">out_med_stdxy</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; == Indirect Effect ==</span></span>
<span><span class="co">#&gt;                                        </span></span>
<span><span class="co">#&gt;  Path:               x -&gt; m1 -&gt; m2 -&gt; y</span></span>
<span><span class="co">#&gt;  Indirect Effect     0.086             </span></span>
<span><span class="co">#&gt;  95.0% Bootstrap CI: [0.017 to 0.183]  </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Computation Formula:</span></span>
<span><span class="co">#&gt;   (b.m1~x)*(b.m2~m1)*(b.y~m2)*sd_x/sd_y</span></span>
<span><span class="co">#&gt; Computation:</span></span>
<span><span class="co">#&gt;   (0.82244)*(0.42078)*(0.52077)*(0.95489)/(2.00967)</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Percentile confidence interval formed by nonparametric bootstrapping</span></span>
<span><span class="co">#&gt; with 500 bootstrap samples.</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Coefficients of Component Paths:</span></span>
<span><span class="co">#&gt;   Path Coefficient</span></span>
<span><span class="co">#&gt;   m1~x       0.822</span></span>
<span><span class="co">#&gt;  m2~m1       0.421</span></span>
<span><span class="co">#&gt;   y~m2       0.521</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; NOTE: The effects of the component paths are from the model, not standardized.</span></span></code></pre></div>
<p>The indirect effect from <code>x</code> to <code>y</code> through <code>m1</code> and <code>m2</code> is 0.086, with a 95% confidence interval of [0.017, 0.183], significantly different from zero (<em>p</em> &lt; .05).</p>
</div>
<div class="section level3">
<h3 id="estimating-indirect-effects-for-any-pathways">Estimating Indirect Effects For <em>Any</em> Pathways<a class="anchor" aria-label="anchor" href="#estimating-indirect-effects-for-any-pathways"></a>
</h3>
<p><code><a href="../reference/cond_indirect.html">indirect_effect()</a></code> can be used for the indirect effect in any pathway in a path model. There is no need to specify the pathway when doing the regression analysis.</p>
<p>For example, suppose we want to estimate and test the indirect effect from <code>x</code> through <code>m2</code> to <code>y</code>, bypassing <code>m1</code>, simply set <code>x</code> to <code>"x"</code>, <code>y</code> to <code>"y"</code>, and <code>m</code> to <code>"m2"</code>:</p>
<div class="sourceCode" id="cb15"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">out_x_m2_y</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/cond_indirect.html">indirect_effect</a></span><span class="op">(</span>x <span class="op">=</span> <span class="st">"x"</span>,</span>
<span>                              y <span class="op">=</span> <span class="st">"y"</span>,</span>
<span>                              m <span class="op">=</span> <span class="st">"m2"</span>,</span>
<span>                              fit <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="va">lm_m1</span>, <span class="va">lm_m2</span>, <span class="va">lm_y</span><span class="op">)</span>,</span>
<span>                              boot_ci <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>                              R <span class="op">=</span> <span class="fl">500</span>,</span>
<span>                              seed <span class="op">=</span> <span class="fl">43143</span><span class="op">)</span></span>
<span><span class="va">out_x_m2_y</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; == Indirect Effect ==</span></span>
<span><span class="co">#&gt;                                       </span></span>
<span><span class="co">#&gt;  Path:               x -&gt; m2 -&gt; y     </span></span>
<span><span class="co">#&gt;  Indirect Effect     -0.060           </span></span>
<span><span class="co">#&gt;  95.0% Bootstrap CI: [-0.232 to 0.097]</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Computation Formula:</span></span>
<span><span class="co">#&gt;   (b.m2~x)*(b.y~m2)</span></span>
<span><span class="co">#&gt; Computation:</span></span>
<span><span class="co">#&gt;   (-0.11610)*(0.52077)</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Percentile confidence interval formed by nonparametric bootstrapping</span></span>
<span><span class="co">#&gt; with 500 bootstrap samples.</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Coefficients of Component Paths:</span></span>
<span><span class="co">#&gt;  Path Coefficient</span></span>
<span><span class="co">#&gt;  m2~x      -0.116</span></span>
<span><span class="co">#&gt;  y~m2       0.521</span></span></code></pre></div>
<p>The indirect effect along this path is not significant.</p>
<p>Similarly, indirect effects from <code>m1</code> through <code>m2</code> to <code>y</code> or from <code>x</code> through <code>m1</code> to <code>y</code> can also be tested by setting the three arguments accordingly.</p>
<p>This also means that the model can have more than one predictor and more than one outcome variable. For example, <code>c1</code> and <code>c2</code> can be other predictors in the model, and they may point to only one of the mediators. The model can also have more than one outcome variable. <code><a href="../reference/cond_indirect.html">indirect_effect()</a></code> works by extracting the path coefficients and compute their product. Therefore, it does not require users do anything in advance in fitting the models and also has not limit on the form of the models. <code><a href="../reference/cond_indirect.html">indirect_effect()</a></code> can be used as long as the indirect effect computed as the product of the component paths is meaningful.</p>
<p>Fit the models first, and explore as many pathways as we want.</p>
</div>
</div>
<div class="section level2">
<h2 id="other-cases">Other Cases<a class="anchor" aria-label="anchor" href="#other-cases"></a>
</h2>
<p>The following articles illustrate other uses of <code>manymome</code> (to be prepared):</p>
<ul>
<li>Models estimated by multiple regression:
<ul>
<li>Moderated mediation models with categorical and numeric moderators.</li>
<li>Moderated mediation models with both categorical and numeric moderators.</li>
<li>Parallel mediation models.</li>
<li>Complex mediation models.</li>
</ul>
</li>
<li>Models fitted by structural equation modeling using <code><a href="https://rdrr.io/pkg/lavaan/man/sem.html" class="external-link">lavaan::sem()</a></code>:
<ul>
<li>Moderated mediation models with numeric moderators.</li>
<li>Moderated mediation models with categorical moderators.</li>
<li>Moderated mediation models with both numeric and categorical moderators.</li>
<li>Complex mediation models.</li>
<li>Indirect effects between latent factors.</li>
<li>Models with missing data.</li>
</ul>
</li>
</ul>
</div>
<div class="section level2">
<h2 id="moderation-only-models">Moderation-Only Models<a class="anchor" aria-label="anchor" href="#moderation-only-models"></a>
</h2>
<p>Although <code><a href="../reference/cond_indirect.html">cond_indirect_effects()</a></code> can also be used for a moderated regression model without mediators, there are other packages specifically for this model. For example, <code>stdmod::cond_effect()</code> can be used to compute the conditional effects, and <code>stdmod::cond_effect_boot()</code>, when used with <code>stdmod::std_selected()</code>, can be used to form bootstrap confidence intervals for standardized conditional effects. <code>visreg::visreg()</code> and <code>stdmod::plotmod()</code> can be used to plot conditional effects in a moderated regression model. Interested researchers can check the package <a href="https://sfcheung.github.io/stdmod/" class="external-link">stdmod</a> and and <a href="http://pbreheny.github.io/visreg/" class="external-link">visreg</a>.</p>
<p>(Disclosure: <code>stdmod</code> is also developed by the maintainer of <code>manymome</code>.)</p>
</div>
  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="pkgdown-footer-left">
  <p></p>
<p>Developed by Shu Fai Cheung.</p>
</div>

<div class="pkgdown-footer-right">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.6.</p>
</div>

    </footer>
</div>

  

  

  </body>
</html>
