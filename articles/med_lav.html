<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="description" content="manymome">
<title>Mediation Models with Latent Variables â€¢ manymome</title>
<!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png">
<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png">
<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png">
<link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png">
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/Hind-0.4.9/font.css" rel="stylesheet">
<link href="../deps/Oxygen_Mono-0.4.9/font.css" rel="stylesheet">
<!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- bootstrap-toc --><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@v1.0.1/dist/bootstrap-toc.min.js" integrity="sha256-4veVQbu7//Lk5TSmc7YV48MxtMy98e26cf5MrgZYnwo=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.11/clipboard.min.js" integrity="sha512-7O5pXpc0oCRrxk8RUfDYFgn0nO1t+jLuIOQdOMRp4APB7uZ4vSjspzp5y6YDtDs4VzUSTbWzBFZ/LKJhnyFOKw==" crossorigin="anonymous" referrerpolicy="no-referrer"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Mediation Models with Latent Variables">
<meta property="og:description" content="manymome">
<meta property="og:image" content="https://sfcheung.github.io/manymome/logo.png">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--><meta name="google-site-verification" content="0VLBmFnW_UJFI-7gXnORPBsWxqZwmzuGpK-TeVRLBjQ">
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-dark navbar-expand-lg bg-primary" data-bs-theme="dark"><div class="container">
    
    <a class="navbar-brand me-2" href="../index.html">manymome</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.2.0</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item">
  <a class="nav-link" href="../articles/manymome.html">Get started</a>
</li>
<li class="active nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-articles">Articles</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-articles">
    <h6 class="dropdown-header" data-toc-skip>&lt;Structural Equation Models&gt;</h6>
    <a class="dropdown-item" href="../articles/manymome.html">Moderation, Mediation, Moderated Mediation in Path Models</a>
    <a class="dropdown-item" href="../articles/med_lav.html">Mediation among Latent Variables</a>
    <div class="dropdown-divider"></div>
    <h6 class="dropdown-header" data-toc-skip>&lt;Multiple Regression&gt;</h6>
    <a class="dropdown-item" href="../articles/med_lm.html">Mediation</a>
    <a class="dropdown-item" href="../articles/mome_lm.html">Moderated Mediation</a>
    <div class="dropdown-divider"></div>
    <h6 class="dropdown-header" data-toc-skip>&lt;Multigroup Models&gt;</h6>
    <a class="dropdown-item" href="../articles/med_mg.html">Mediation in Multigroup Models</a>
    <div class="dropdown-divider"></div>
    <h6 class="dropdown-header" data-toc-skip>&lt;Multiple Imputation&gt;</h6>
    <a class="dropdown-item" href="../articles/do_mc_lavaan_mi.html">Monte Carlo Confidence Intervals with Multiple Imputation</a>
    <div class="dropdown-divider"></div>
    <h6 class="dropdown-header" data-toc-skip>&lt;Helpers&gt;</h6>
    <a class="dropdown-item" href="../articles/do_boot.html">Generate Bootstrap Estimates</a>
    <a class="dropdown-item" href="../articles/do_mc.html">Generate Monte Carlo Estimates</a>
    <a class="dropdown-item" href="../articles/mod_levels.html">Set Moderator Levels</a>
    <div class="dropdown-divider"></div>
    <h6 class="dropdown-header" data-toc-skip>&lt;Technical Appendices&gt;</h6>
    <a class="dropdown-item" href="../articles/get_prod.html">Workflow of `get_prod()` and Friends</a>
    <a class="dropdown-item" href="../articles/manymome_cond_indirect_and_friends_workflow.html">Workflow of `cond_indirect()`</a>
    <a class="dropdown-item" href="../articles/manymome_do_boot_workflow.html">Workflow of `do_boot()`</a>
    <a class="dropdown-item" href="../articles/manymome_do_mc_workflow.html">Workflow of `do_mc()`</a>
  </div>
</li>
<li class="nav-item">
  <a class="nav-link" href="../reference/index.html">Reference</a>
</li>
<li class="nav-item">
  <a class="nav-link" href="../news/index.html">Changelog</a>
</li>
      </ul>
<form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off">
</form>

      <ul class="navbar-nav">
<li class="nav-item">
  <a class="external-link nav-link" href="https://github.com/sfcheung/manymome/" aria-label="github">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>

    
  </div>
</nav><div class="container template-article">




<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>Mediation Models with Latent Variables</h1>
                        <h4 data-toc-skip class="author">Shu Fai Cheung
&amp; Sing-Hang Cheung</h4>
            
            <h4 data-toc-skip class="date">2023-10-06</h4>
      
      <small class="dont-index">Source: <a href="https://github.com/sfcheung/manymome/blob/HEAD/vignettes/med_lav.Rmd" class="external-link"><code>vignettes/med_lav.Rmd</code></a></small>
      <div class="d-none name"><code>med_lav.Rmd</code></div>
    </div>

    
    
<div class="section level2">
<h2 id="introduction">Introduction<a class="anchor" aria-label="anchor" href="#introduction"></a>
</h2>
<p>This article is a brief illustration of how
<code><a href="../reference/cond_indirect.html">indirect_effect()</a></code> from the package <a href="https://sfcheung.github.io/manymome/">manymome</a> (<a href="https://doi.org/10.3758/s13428-023-02224-z" class="external-link">Cheung &amp; Cheung,
2023</a>) can be used to estimate the indirect effects among latent
variables and form bootstrap confidence intervals for these effects.</p>
</div>
<div class="section level2">
<h2 id="data-set-and-model">Data Set and Model<a class="anchor" aria-label="anchor" href="#data-set-and-model"></a>
</h2>
<p>This is the sample dataset used for illustration:</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://sfcheung.github.io/manymome/">manymome</a></span><span class="op">)</span></span>
<span><span class="va">dat</span> <span class="op">&lt;-</span> <span class="va">data_sem</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/Round.html" class="external-link">round</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="va">dat</span><span class="op">)</span>, <span class="fl">1</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="co">#&gt;    x01  x02  x03  x04  x05  x06  x07  x08  x09  x10  x11  x12  x13  x14</span></span>
<span><span class="co">#&gt; 1  0.2 -1.1 -0.2  2.7 -0.1  2.2  1.7  0.2 -1.9 -2.1 -0.9 -0.5 -0.6 -1.5</span></span>
<span><span class="co">#&gt; 2  0.1  0.3  0.9 -0.5 -1.0  0.8 -0.3 -0.9  0.8 -1.5 -0.7  1.0 -0.8 -1.4</span></span>
<span><span class="co">#&gt; 3 -0.1 -0.1  2.4 -0.2 -0.1 -1.6 -1.9 -2.4 -0.3 -0.2  0.5 -0.7  0.2 -0.7</span></span>
<span><span class="co">#&gt; 4 -0.5  1.1 -0.7 -0.5  1.0 -0.6 -0.9 -1.5 -1.5 -0.5 -2.2 -1.6 -0.8 -0.2</span></span>
<span><span class="co">#&gt; 5 -0.8 -0.3 -0.9 -0.2  0.3 -2.1 -0.5 -1.8 -0.1 -2.7 -0.4 -1.2  0.3 -2.6</span></span>
<span><span class="co">#&gt; 6  0.9  0.3  0.3  1.0 -1.8 -0.4  0.8 -0.4 -1.1 -2.1  0.4  0.0 -0.3  2.2</span></span></code></pre></div>
<p>This dataset has 14 variables, which are indicators of four latent
factors: <code>f1</code>, <code>f2</code>, <code>f3</code>, and
<code>f4</code>.</p>
<p>Suppose this is the model to be fitted:</p>
<div class="float">
<img src="mde_lav_draw_model-1.png" alt="plot of chunk mde_lav_draw_model"><div class="figcaption">plot of chunk mde_lav_draw_model</div>
</div>
<p>This model can be fitted by <code><a href="https://rdrr.io/pkg/lavaan/man/sem.html" class="external-link">lavaan::sem()</a></code>:</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">mod</span> <span class="op">&lt;-</span></span>
<span><span class="st">"</span></span>
<span><span class="st">f1 =~ x01 + x02 + x03</span></span>
<span><span class="st">f2 =~ x04 + x05 + x06 + x07</span></span>
<span><span class="st">f3 =~ x08 + x09 + x10</span></span>
<span><span class="st">f4 =~ x11 + x12 + x13 + x14</span></span>
<span><span class="st">f3 ~  f1 + f2</span></span>
<span><span class="st">f4 ~  f1 + f3</span></span>
<span><span class="st">"</span></span>
<span><span class="va">fit_med</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/pkg/lavaan/man/sem.html" class="external-link">sem</a></span><span class="op">(</span>model <span class="op">=</span> <span class="va">mod</span>,</span>
<span>               data <span class="op">=</span> <span class="va">dat</span><span class="op">)</span></span></code></pre></div>
<p>These are the estimates of the paths between the latent
variables:</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">est</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/pkg/lavaan/man/parameterEstimates.html" class="external-link">parameterEstimates</a></span><span class="op">(</span><span class="va">fit_med</span><span class="op">)</span></span>
<span><span class="va">est</span><span class="op">[</span><span class="va">est</span><span class="op">$</span><span class="va">op</span> <span class="op">==</span> <span class="st">"~"</span>, <span class="op">]</span></span>
<span><span class="co">#&gt;    lhs op rhs   est    se     z pvalue ci.lower ci.upper</span></span>
<span><span class="co">#&gt; 15  f3  ~  f1 0.243 0.120 2.018  0.044    0.007    0.479</span></span>
<span><span class="co">#&gt; 16  f3  ~  f2 0.326 0.102 3.186  0.001    0.125    0.526</span></span>
<span><span class="co">#&gt; 17  f4  ~  f1 0.447 0.125 3.592  0.000    0.203    0.692</span></span>
<span><span class="co">#&gt; 18  f4  ~  f3 0.402 0.090 4.445  0.000    0.225    0.579</span></span></code></pre></div>
<p>Suppose that for the free parameters, we would like to use ML to form
the confidence intervals. For indirect effects, we want to use
bootstrapping.</p>
</div>
<div class="section level2">
<h2 id="generating-bootstrap-estimates">Generating Bootstrap Estimates<a class="anchor" aria-label="anchor" href="#generating-bootstrap-estimates"></a>
</h2>
<p>Although bootstrap estimates can be generated and stored the first
time we call <code><a href="../reference/cond_indirect.html">indirect_effect()</a></code>, we illustrate using
<code><a href="../reference/do_boot.html">do_boot()</a></code> to generate the bootstrap estimates to be used by
<code><a href="../reference/cond_indirect.html">indirect_effect()</a></code>:</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">boot_out_med</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/do_boot.html">do_boot</a></span><span class="op">(</span><span class="va">fit_med</span>,</span>
<span>                        R <span class="op">=</span> <span class="fl">100</span>,</span>
<span>                        seed <span class="op">=</span> <span class="fl">98171</span>,</span>
<span>                        ncores <span class="op">=</span> <span class="fl">1</span><span class="op">)</span></span></code></pre></div>
<p>Please see <code><a href="../articles/do_boot.html">vignette("do_boot")</a></code> or the help page of
<code><a href="../reference/do_boot.html">do_boot()</a></code> on how to use this function. In real research,
<code>R</code>, the number of bootstrap samples, should be set to 2000
or even 5000. The argument <code>ncores</code> can usually be omitted
unless users want to manually control the number of CPU cores to be used
in parallel processing.</p>
</div>
<div class="section level2">
<h2 id="indirect-effects">Indirect Effects<a class="anchor" aria-label="anchor" href="#indirect-effects"></a>
</h2>
<p>Even though path coefficients are not labelled, we can still use
<code><a href="../reference/cond_indirect.html">indirect_effect()</a></code> to estimate the indirect effect and form
its bootstrap confidence interval for any path in the model. By reusing
the generated bootstrap estimates, there is no need to repeat the
resampling and estimation.</p>
<p>Suppose we want to estimate the indirect effect from <code>f1</code>
to <code>f4</code> through <code>f3</code>:</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">out_f1f3f4</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/cond_indirect.html">indirect_effect</a></span><span class="op">(</span>x <span class="op">=</span> <span class="st">"f1"</span>,</span>
<span>                              y <span class="op">=</span> <span class="st">"f4"</span>,</span>
<span>                              m <span class="op">=</span> <span class="st">"f3"</span>,</span>
<span>                              fit <span class="op">=</span> <span class="va">fit_med</span>,</span>
<span>                              boot_ci <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>                              boot_out <span class="op">=</span> <span class="va">boot_out_med</span><span class="op">)</span></span>
<span><span class="va">out_f1f3f4</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; == Indirect Effect ==</span></span>
<span><span class="co">#&gt;                                       </span></span>
<span><span class="co">#&gt;  Path:               f1 -&gt; f3 -&gt; f4   </span></span>
<span><span class="co">#&gt;  Indirect Effect     0.098            </span></span>
<span><span class="co">#&gt;  95.0% Bootstrap CI: [-0.007 to 0.216]</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Computation Formula:</span></span>
<span><span class="co">#&gt;   (b.f3~f1)*(b.f4~f3)</span></span>
<span><span class="co">#&gt; Computation:</span></span>
<span><span class="co">#&gt;   (0.24307)*(0.40186)</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Percentile confidence interval formed by nonparametric bootstrapping</span></span>
<span><span class="co">#&gt; with 100 bootstrap samples.</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Coefficients of Component Paths:</span></span>
<span><span class="co">#&gt;   Path Coefficient</span></span>
<span><span class="co">#&gt;  f3~f1       0.243</span></span>
<span><span class="co">#&gt;  f4~f3       0.402</span></span></code></pre></div>
<p>The indirect effect is 0.098, with 95% confidence interval [-0.007,
0.216].</p>
<p>Similarly, we can estimate the indirect effect from <code>f2</code>
to <code>f4</code> through <code>f3</code>:</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">out_f2f3f4</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/cond_indirect.html">indirect_effect</a></span><span class="op">(</span>x <span class="op">=</span> <span class="st">"f2"</span>,</span>
<span>                              y <span class="op">=</span> <span class="st">"f4"</span>,</span>
<span>                              m <span class="op">=</span> <span class="st">"f3"</span>,</span>
<span>                              fit <span class="op">=</span> <span class="va">fit_med</span>,</span>
<span>                              boot_ci <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>                              boot_out <span class="op">=</span> <span class="va">boot_out_med</span><span class="op">)</span></span>
<span><span class="va">out_f2f3f4</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; == Indirect Effect ==</span></span>
<span><span class="co">#&gt;                                      </span></span>
<span><span class="co">#&gt;  Path:               f2 -&gt; f3 -&gt; f4  </span></span>
<span><span class="co">#&gt;  Indirect Effect     0.131           </span></span>
<span><span class="co">#&gt;  95.0% Bootstrap CI: [0.049 to 0.254]</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Computation Formula:</span></span>
<span><span class="co">#&gt;   (b.f3~f2)*(b.f4~f3)</span></span>
<span><span class="co">#&gt; Computation:</span></span>
<span><span class="co">#&gt;   (0.32561)*(0.40186)</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Percentile confidence interval formed by nonparametric bootstrapping</span></span>
<span><span class="co">#&gt; with 100 bootstrap samples.</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Coefficients of Component Paths:</span></span>
<span><span class="co">#&gt;   Path Coefficient</span></span>
<span><span class="co">#&gt;  f3~f2       0.326</span></span>
<span><span class="co">#&gt;  f4~f3       0.402</span></span></code></pre></div>
<p>The indirect effect is 0.131, with 95% confidence interval [0.049,
0.254].</p>
</div>
<div class="section level2">
<h2 id="standardized-indirect-effects">Standardized Indirect effects<a class="anchor" aria-label="anchor" href="#standardized-indirect-effects"></a>
</h2>
<p>The standardized indirect effect from <code>f1</code> to
<code>f4</code> through <code>f3</code> can be estimated by setting
<code>standardized_x</code> and <code>standardized_y</code> to
`TRUE:</p>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">std_f1f3f4</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/cond_indirect.html">indirect_effect</a></span><span class="op">(</span>x <span class="op">=</span> <span class="st">"f1"</span>,</span>
<span>                              y <span class="op">=</span> <span class="st">"f4"</span>,</span>
<span>                              m <span class="op">=</span> <span class="st">"f3"</span>,</span>
<span>                              fit <span class="op">=</span> <span class="va">fit_med</span>,</span>
<span>                              boot_ci <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>                              boot_out <span class="op">=</span> <span class="va">boot_out_med</span>,</span>
<span>                              standardized_x <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>                              standardized_y <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span>
<span><span class="va">std_f1f3f4</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; == Indirect Effect ==</span></span>
<span><span class="co">#&gt;                                       </span></span>
<span><span class="co">#&gt;  Path:               f1 -&gt; f3 -&gt; f4   </span></span>
<span><span class="co">#&gt;  Indirect Effect     0.073            </span></span>
<span><span class="co">#&gt;  95.0% Bootstrap CI: [-0.005 to 0.157]</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Computation Formula:</span></span>
<span><span class="co">#&gt;   (b.f3~f1)*(b.f4~f3)*sd_f1/sd_f4</span></span>
<span><span class="co">#&gt; Computation:</span></span>
<span><span class="co">#&gt;   (0.24307)*(0.40186)*(0.87470)/(1.17421)</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Percentile confidence interval formed by nonparametric bootstrapping</span></span>
<span><span class="co">#&gt; with 100 bootstrap samples.</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Coefficients of Component Paths:</span></span>
<span><span class="co">#&gt;   Path Coefficient</span></span>
<span><span class="co">#&gt;  f3~f1       0.243</span></span>
<span><span class="co">#&gt;  f4~f3       0.402</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; NOTE: The effects of the component paths are from the model, not standardized.</span></span></code></pre></div>
<p>The standardized indirect effect is 0.073, with 95% confidence
interval [-0.005, 0.157].</p>
<p>Similarly, we can estimate the standardized indirect effect from
<code>f2</code> to <code>f4</code> through <code>f3</code>:</p>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">std_f2f3f4</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/cond_indirect.html">indirect_effect</a></span><span class="op">(</span>x <span class="op">=</span> <span class="st">"f2"</span>,</span>
<span>                              y <span class="op">=</span> <span class="st">"f4"</span>,</span>
<span>                              m <span class="op">=</span> <span class="st">"f3"</span>,</span>
<span>                              fit <span class="op">=</span> <span class="va">fit_med</span>,</span>
<span>                              boot_ci <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>                              boot_out <span class="op">=</span> <span class="va">boot_out_med</span>,</span>
<span>                              standardized_x <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>                              standardized_y <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span>
<span><span class="va">std_f2f3f4</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; == Indirect Effect ==</span></span>
<span><span class="co">#&gt;                                      </span></span>
<span><span class="co">#&gt;  Path:               f2 -&gt; f3 -&gt; f4  </span></span>
<span><span class="co">#&gt;  Indirect Effect     0.116           </span></span>
<span><span class="co">#&gt;  95.0% Bootstrap CI: [0.044 to 0.204]</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Computation Formula:</span></span>
<span><span class="co">#&gt;   (b.f3~f2)*(b.f4~f3)*sd_f2/sd_f4</span></span>
<span><span class="co">#&gt; Computation:</span></span>
<span><span class="co">#&gt;   (0.32561)*(0.40186)*(1.03782)/(1.17421)</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Percentile confidence interval formed by nonparametric bootstrapping</span></span>
<span><span class="co">#&gt; with 100 bootstrap samples.</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Coefficients of Component Paths:</span></span>
<span><span class="co">#&gt;   Path Coefficient</span></span>
<span><span class="co">#&gt;  f3~f2       0.326</span></span>
<span><span class="co">#&gt;  f4~f3       0.402</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; NOTE: The effects of the component paths are from the model, not standardized.</span></span></code></pre></div>
<p>The standardized indirect effect is 0.116, with 95% confidence
interval [0.044, 0.204].</p>
<p>Note that, unlike the confidence intervals in
<code><a href="https://rdrr.io/pkg/lavaan/man/standardizedSolution.html" class="external-link">lavaan::standardizedSolution()</a></code>, the confidence intervals
formed by <code><a href="../reference/cond_indirect.html">indirect_effect()</a></code> are the bootstrap confidence
intervals formed based on the bootstrap estimates, rather than intervals
based on the delta method.</p>
</div>
<div class="section level2">
<h2 id="adding-effects">Adding Effects<a class="anchor" aria-label="anchor" href="#adding-effects"></a>
</h2>
<p>Note that the results of <code><a href="../reference/cond_indirect.html">indirect_effect()</a></code> can be added
using <code>+</code>.</p>
<p>For example, to find the total effect of <code>f1</code> on
<code>f4</code>, we also need to compute the direct effect from
<code>f1</code> to <code>f4</code>. Although it is already available in
the <code>lavaan</code> output, we still use
<code><a href="../reference/cond_indirect.html">indirect_effect()</a></code> to compute it so that it can be added to
the indirect effect computed above with bootstrap confidence
interval:</p>
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">out_f1f4</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/cond_indirect.html">indirect_effect</a></span><span class="op">(</span>x <span class="op">=</span> <span class="st">"f1"</span>,</span>
<span>                            y <span class="op">=</span> <span class="st">"f4"</span>,</span>
<span>                            fit <span class="op">=</span> <span class="va">fit_med</span>,</span>
<span>                            boot_ci <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>                            boot_out <span class="op">=</span> <span class="va">boot_out_med</span><span class="op">)</span></span>
<span><span class="va">out_f1f4</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; ==  Effect ==</span></span>
<span><span class="co">#&gt;                                      </span></span>
<span><span class="co">#&gt;  Path:               f1 -&gt; f4        </span></span>
<span><span class="co">#&gt;  Effect              0.447           </span></span>
<span><span class="co">#&gt;  95.0% Bootstrap CI: [0.203 to 0.753]</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Computation Formula:</span></span>
<span><span class="co">#&gt;   (b.f4~f1)</span></span>
<span><span class="co">#&gt; Computation:</span></span>
<span><span class="co">#&gt;   (0.44749)</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Percentile confidence interval formed by nonparametric bootstrapping</span></span>
<span><span class="co">#&gt; with 100 bootstrap samples.</span></span></code></pre></div>
<p>We can now compute the total effect:</p>
<div class="sourceCode" id="cb10"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">out_f1_total</span> <span class="op">&lt;-</span> <span class="va">out_f1f3f4</span> <span class="op">+</span> <span class="va">out_f1f4</span></span>
<span><span class="va">out_f1_total</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; == Indirect Effect ==</span></span>
<span><span class="co">#&gt;                                       </span></span>
<span><span class="co">#&gt;  Path:                f1 -&gt; f3 -&gt; f4  </span></span>
<span><span class="co">#&gt;  Path:                f1 -&gt; f4        </span></span>
<span><span class="co">#&gt;  Function of Effects: 0.545           </span></span>
<span><span class="co">#&gt;  95.0% Bootstrap CI:  [0.318 to 0.858]</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Computation of the Function of Effects:</span></span>
<span><span class="co">#&gt;  (f1-&gt;f3-&gt;f4)</span></span>
<span><span class="co">#&gt; +(f1-&gt;f4) </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Percentile confidence interval formed by nonparametric bootstrapping</span></span>
<span><span class="co">#&gt; with 100 bootstrap samples.</span></span></code></pre></div>
<p>The total effect of <code>f1</code> on <code>f4</code> is 0.545, with
95% confidence interval [0.318, 0.858].</p>
</div>
<div class="section level2">
<h2 id="differences-in-effects">Differences in Effects<a class="anchor" aria-label="anchor" href="#differences-in-effects"></a>
</h2>
<p>Subtraction can also be conducted using <code>-</code>. For example,
we can compute the difference between the indirect effect of
<code>f1</code> on <code>f4</code> and the direct effect of
<code>f1</code> on <code>f4</code>:</p>
<div class="sourceCode" id="cb11"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">out_f1_diff</span> <span class="op">&lt;-</span> <span class="va">out_f1f4</span> <span class="op">-</span> <span class="va">out_f1f3f4</span></span>
<span><span class="va">out_f1_diff</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; == Indirect Effect ==</span></span>
<span><span class="co">#&gt;                                        </span></span>
<span><span class="co">#&gt;  Path:                f1 -&gt; f4         </span></span>
<span><span class="co">#&gt;  Path:                f1 -&gt; f3 -&gt; f4   </span></span>
<span><span class="co">#&gt;  Function of Effects: 0.350            </span></span>
<span><span class="co">#&gt;  95.0% Bootstrap CI:  [-0.027 to 0.700]</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Computation of the Function of Effects:</span></span>
<span><span class="co">#&gt;  (f1-&gt;f4)</span></span>
<span><span class="co">#&gt; -(f1-&gt;f3-&gt;f4) </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Percentile confidence interval formed by nonparametric bootstrapping</span></span>
<span><span class="co">#&gt; with 100 bootstrap samples.</span></span></code></pre></div>
<p>The difference in effects is 0.350, with 95% confidence interval
[-0.027, 0.700].</p>
</div>
<div class="section level2">
<h2 id="identifying-all-indirect-paths">Identifying All Indirect paths<a class="anchor" aria-label="anchor" href="#identifying-all-indirect-paths"></a>
</h2>
<p>If there are several indirect paths in a model, the function
<code><a href="../reference/all_indirect_paths.html">all_indirect_paths()</a></code> can be used to automatically identify
all indirect paths (a path with at least one mediator) in a model:</p>
<div class="sourceCode" id="cb12"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">all_paths</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/all_indirect_paths.html">all_indirect_paths</a></span><span class="op">(</span>fit <span class="op">=</span> <span class="va">fit_med</span><span class="op">)</span></span>
<span><span class="va">all_paths</span></span>
<span><span class="co">#&gt; Call: </span></span>
<span><span class="co">#&gt; all_indirect_paths(fit = fit_med)</span></span>
<span><span class="co">#&gt; Path(s): </span></span>
<span><span class="co">#&gt;   path          </span></span>
<span><span class="co">#&gt; 1 f1 -&gt; f3 -&gt; f4</span></span>
<span><span class="co">#&gt; 2 f2 -&gt; f3 -&gt; f4</span></span></code></pre></div>
<p>The output is a <code>all_paths</code>-class object. It can be used
in <code><a href="../reference/cond_indirect.html">many_indirect_effects()</a></code></p>
<div class="sourceCode" id="cb13"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">out_all</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/cond_indirect.html">many_indirect_effects</a></span><span class="op">(</span>paths <span class="op">=</span> <span class="va">all_paths</span>,</span>
<span>                                 fit <span class="op">=</span> <span class="va">fit_med</span>,</span>
<span>                                 boot_ci <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>                                 boot_out <span class="op">=</span> <span class="va">boot_out_med</span><span class="op">)</span></span></code></pre></div>
<p>The first argument, <code>paths</code>, is the output of
<code><a href="../reference/all_indirect_paths.html">all_indirect_paths()</a></code>. The other arguments will be passed to
<code><a href="../reference/cond_indirect.html">indirect_effect()</a></code>.</p>
<p>The output is an <code>indirect_list</code>-class object, which is a
list of the outputs of <code>indirect_effects()</code>. If printed, a
summary of the indirect effects will be printed:</p>
<div class="sourceCode" id="cb14"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">out_all</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; ==  Indirect Effect(s)   ==</span></span>
<span><span class="co">#&gt;                  ind  CI.lo CI.hi Sig</span></span>
<span><span class="co">#&gt; f1 -&gt; f3 -&gt; f4 0.098 -0.007 0.216    </span></span>
<span><span class="co">#&gt; f2 -&gt; f3 -&gt; f4 0.131  0.049 0.254 Sig</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt;  - [CI.lo to CI.hi] are 95.0% percentile confidence intervals by</span></span>
<span><span class="co">#&gt;    nonparametric bootstrapping with 100 samples.</span></span>
<span><span class="co">#&gt;  - The 'ind' column shows the indirect effects.</span></span>
<span><span class="co">#&gt; </span></span></code></pre></div>
<p>The output of <code><a href="../reference/cond_indirect.html">many_indirect_effects()</a></code> is a named list,
names being the path name as appeared in the output. Individual indirect
effects can be extracted using either the indices or the path names</p>
<p>An example using index:</p>
<div class="sourceCode" id="cb15"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">out1</span> <span class="op">&lt;-</span> <span class="va">out_all</span><span class="op">[[</span><span class="fl">1</span><span class="op">]</span><span class="op">]</span></span>
<span><span class="va">out1</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; == Indirect Effect ==</span></span>
<span><span class="co">#&gt;                                       </span></span>
<span><span class="co">#&gt;  Path:               f1 -&gt; f3 -&gt; f4   </span></span>
<span><span class="co">#&gt;  Indirect Effect     0.098            </span></span>
<span><span class="co">#&gt;  95.0% Bootstrap CI: [-0.007 to 0.216]</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Computation Formula:</span></span>
<span><span class="co">#&gt;   (b.f3~f1)*(b.f4~f3)</span></span>
<span><span class="co">#&gt; Computation:</span></span>
<span><span class="co">#&gt;   (0.24307)*(0.40186)</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Percentile confidence interval formed by nonparametric bootstrapping</span></span>
<span><span class="co">#&gt; with 100 bootstrap samples.</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Coefficients of Component Paths:</span></span>
<span><span class="co">#&gt;   Path Coefficient</span></span>
<span><span class="co">#&gt;  f3~f1       0.243</span></span>
<span><span class="co">#&gt;  f4~f3       0.402</span></span></code></pre></div>
<p>An example using path name (though not recommended because the name
is usually long):</p>
<div class="sourceCode" id="cb16"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">out2</span> <span class="op">&lt;-</span> <span class="va">out_all</span><span class="op">[[</span><span class="st">"f2 -&gt; f3 -&gt; f4"</span><span class="op">]</span><span class="op">]</span></span>
<span><span class="va">out2</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; == Indirect Effect ==</span></span>
<span><span class="co">#&gt;                                      </span></span>
<span><span class="co">#&gt;  Path:               f2 -&gt; f3 -&gt; f4  </span></span>
<span><span class="co">#&gt;  Indirect Effect     0.131           </span></span>
<span><span class="co">#&gt;  95.0% Bootstrap CI: [0.049 to 0.254]</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Computation Formula:</span></span>
<span><span class="co">#&gt;   (b.f3~f2)*(b.f4~f3)</span></span>
<span><span class="co">#&gt; Computation:</span></span>
<span><span class="co">#&gt;   (0.32561)*(0.40186)</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Percentile confidence interval formed by nonparametric bootstrapping</span></span>
<span><span class="co">#&gt; with 100 bootstrap samples.</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Coefficients of Component Paths:</span></span>
<span><span class="co">#&gt;   Path Coefficient</span></span>
<span><span class="co">#&gt;  f3~f2       0.326</span></span>
<span><span class="co">#&gt;  f4~f3       0.402</span></span></code></pre></div>
<p>The extracted element can be used just like the outputs of
<code><a href="../reference/cond_indirect.html">indirect_effect()</a></code> in previous section.</p>
<p>Users can customize the search. For example, if a model has control
variables, they can be excluded in the search for indirect paths. Users
can also limit the search to paths that start from or end at selected
variables. See the help page of <code><a href="../reference/all_indirect_paths.html">all_indirect_paths()</a></code> and
<code><a href="../reference/cond_indirect.html">many_indirect_effects()</a></code> for the arguments available.</p>
<p>Not demonstrated in this document, total indirect effect can be
computed by <code><a href="../reference/total_indirect_effect.html">total_indirect_effect()</a></code> from the output of
<code><a href="../reference/cond_indirect.html">many_indirect_effects()</a></code>. Please refer to
<code><a href="../articles/med_lm.html">vignette("med_lm")</a></code> for an example and the help page of
<code><a href="../reference/total_indirect_effect.html">total_indirect_effect()</a></code>.</p>
</div>
<div class="section level2">
<h2 id="further-information">Further Information<a class="anchor" aria-label="anchor" href="#further-information"></a>
</h2>
<p>For further information on <code><a href="../reference/do_boot.html">do_boot()</a></code> and
<code><a href="../reference/cond_indirect.html">indirect_effect()</a></code>, please refer to their help pages, or
<code><a href="../articles/manymome.html">vignette("manymome")</a></code> and
<code><a href="../articles/do_boot.html">vignette("do_boot")</a></code>.</p>
<p>Monte Carlo confidence intervals can also be formed using the
functions illustrated above. First use <code><a href="../reference/do_mc.html">do_mc()</a></code> instead of
<code><a href="../reference/do_boot.html">do_boot()</a></code> to generate simulated sample estimates. When
calling other main functions, use <code>mc_ci = TRUE</code> and set
<code>mc_out</code> to the output of <code><a href="../reference/do_mc.html">do_mc()</a></code>. Please refer
to <code><a href="../articles/do_mc.html">vignette("do_mc")</a></code> for an illustration.</p>
</div>
<div class="section level2">
<h2 id="reference">Reference<a class="anchor" aria-label="anchor" href="#reference"></a>
</h2>
<p>Cheung, S. F., &amp; Cheung, S.-H. (2023). <em>manymome</em>: An R
package for computing the indirect effects, conditional effects, and
conditional indirect effects, standardized or unstandardized, and their
bootstrap confidence intervals, in many (though not all) models.
<em>Behavior Research Methods</em>. <a href="https://doi.org/10.3758/s13428-023-02224-z" class="external-link uri">https://doi.org/10.3758/s13428-023-02224-z</a></p>
</div>
  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="pkgdown-footer-left">
  <p>Developed by Shu Fai Cheung, Sing-Hang Cheung.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.9.</p>
</div>

    </footer>
</div>

  

  

  </body>
</html>
