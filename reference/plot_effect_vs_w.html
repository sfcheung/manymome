<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Plot an Effect Against a Moderator — plot_effect_vs_w • manymome</title><!-- favicons --><link rel="icon" type="image/png" sizes="96x96" href="../favicon-96x96.png"><link rel="icon" type="”image/svg+xml”" href="../favicon.svg"><link rel="apple-touch-icon" sizes="180x180" href="../apple-touch-icon.png"><link rel="icon" sizes="any" href="../favicon.ico"><link rel="manifest" href="../site.webmanifest"><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/Hind-0.4.10/font.css" rel="stylesheet"><link href="../deps/Oxygen_Mono-0.4.10/font.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Plot an Effect Against a Moderator — plot_effect_vs_w"><meta name="description" content="It plots an effect, direct
or indirect,
against a moderator, with confidence
band if available."><meta property="og:description" content="It plots an effect, direct
or indirect,
against a moderator, with confidence
band if available."><meta property="og:image" content="https://sfcheung.github.io/manymome/logo.png"><meta name="google-site-verification" content="0VLBmFnW_UJFI-7gXnORPBsWxqZwmzuGpK-TeVRLBjQ"></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-primary" data-bs-theme="dark" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">manymome</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.2.9.1</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="nav-item"><a class="nav-link" href="../articles/manymome.html">Get started</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles"><li><h6 class="dropdown-header" data-toc-skip>&lt;Structural Equation Models&gt;</h6></li>
    <li><a class="dropdown-item" href="../articles/manymome.html">Moderation, Mediation, Moderated Mediation in Path Models</a></li>
    <li><a class="dropdown-item" href="../articles/med_lav.html">Mediation among Latent Variables</a></li>
    <li><hr class="dropdown-divider"></li>
    <li><h6 class="dropdown-header" data-toc-skip>&lt;Multiple Regression&gt;</h6></li>
    <li><a class="dropdown-item" href="../articles/med_lm.html">Mediation</a></li>
    <li><a class="dropdown-item" href="../articles/mome_lm.html">Moderated Mediation</a></li>
    <li><hr class="dropdown-divider"></li>
    <li><h6 class="dropdown-header" data-toc-skip>&lt;Quick Functions&gt;</h6></li>
    <li><a class="dropdown-item" href="../articles/q_mediation.html">All-In-One Functions For Common Mediation Models</a></li>
    <li><hr class="dropdown-divider"></li>
    <li><h6 class="dropdown-header" data-toc-skip>&lt;Multigroup Models&gt;</h6></li>
    <li><a class="dropdown-item" href="../articles/med_mg.html">Mediation in Multigroup Models</a></li>
    <li><hr class="dropdown-divider"></li>
    <li><h6 class="dropdown-header" data-toc-skip>&lt;Multiple Imputation&gt;</h6></li>
    <li><a class="dropdown-item" href="../articles/do_mc_lavaan_mi.html">Monte Carlo Confidence Intervals with Multiple Imputation</a></li>
    <li><hr class="dropdown-divider"></li>
    <li><h6 class="dropdown-header" data-toc-skip>&lt;Helpers&gt;</h6></li>
    <li><a class="dropdown-item" href="../articles/do_boot.html">Generate Bootstrap Estimates</a></li>
    <li><a class="dropdown-item" href="../articles/do_mc.html">Generate Monte Carlo Estimates</a></li>
    <li><a class="dropdown-item" href="../articles/mod_levels.html">Set Moderator Levels</a></li>
    <li><hr class="dropdown-divider"></li>
    <li><h6 class="dropdown-header" data-toc-skip>&lt;Technical Appendices&gt;</h6></li>
    <li><a class="dropdown-item" href="../articles/get_prod.html">Workflow of `get_prod()` and Friends</a></li>
    <li><a class="dropdown-item" href="../articles/manymome_cond_indirect_and_friends_workflow.html">Workflow of `cond_indirect()`</a></li>
    <li><a class="dropdown-item" href="../articles/manymome_do_boot_workflow.html">Workflow of `do_boot()`</a></li>
    <li><a class="dropdown-item" href="../articles/manymome_do_mc_workflow.html">Workflow of `do_mc()`</a></li>
  </ul></li>
<li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/sfcheung/manymome/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>Plot an Effect Against a Moderator</h1>
      <small class="dont-index">Source: <a href="https://github.com/sfcheung/manymome/blob/main/R/plot_effect_vs_w.R" class="external-link"><code>R/plot_effect_vs_w.R</code></a></small>
      <div class="d-none name"><code>plot_effect_vs_w.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>It plots an effect, direct
or indirect,
against a moderator, with confidence
band if available.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">plot_effect_vs_w</span><span class="op">(</span></span>
<span>  <span class="va">object</span>,</span>
<span>  w <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  w_label <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  effect_label <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  add_zero_line <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  always_draw_zero_line <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  line_linewidth <span class="op">=</span> <span class="fl">1</span>,</span>
<span>  line_color <span class="op">=</span> <span class="st">"blue"</span>,</span>
<span>  shade_the_band <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  draw_the_intervals <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  band_fill_color <span class="op">=</span> <span class="st">"lightgrey"</span>,</span>
<span>  band_alpha <span class="op">=</span> <span class="fl">0.5</span>,</span>
<span>  intervals_color <span class="op">=</span> <span class="st">"black"</span>,</span>
<span>  intervals_linetype <span class="op">=</span> <span class="st">"longdash"</span>,</span>
<span>  intervals_linewidth <span class="op">=</span> <span class="fl">1</span>,</span>
<span>  zero_line_color <span class="op">=</span> <span class="st">"grey"</span>,</span>
<span>  zero_line_linewidth <span class="op">=</span> <span class="fl">1</span>,</span>
<span>  zero_line_linetype <span class="op">=</span> <span class="st">"solid"</span>,</span>
<span>  line_args <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="op">)</span>,</span>
<span>  band_args <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="op">)</span>,</span>
<span>  intervals_args <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="op">)</span>,</span>
<span>  zero_line_args <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="op">)</span>,</span>
<span>  level <span class="op">=</span> <span class="fl">0.95</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="fu">fill_wlevels</span><span class="op">(</span><span class="va">to_fill</span>, cond_out <span class="op">=</span> <span class="cn">NULL</span>, k <span class="op">=</span> <span class="fl">21</span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-object">object<a class="anchor" aria-label="anchor" href="#arg-object"></a></dt>
<dd><p>The output of
<code><a href="cond_indirect.html">cond_indirect_effects()</a></code>.</p></dd>


<dt id="arg-w">w<a class="anchor" aria-label="anchor" href="#arg-w"></a></dt>
<dd><p>The name of the moderator.
Must be present in <code>object</code>. If <code>NULL</code>,
the default,
and <code>object</code> has only one moderator,
then it will be set to that moderator.
Because this function currently only
supports a path with only one moderator,
this argument can be left as <code>NULL</code> for now.</p></dd>


<dt id="arg-w-label">w_label<a class="anchor" aria-label="anchor" href="#arg-w-label"></a></dt>
<dd><p>The label of the
horizontal axis. If <code>NULL</code>,
the default, it will be
<code>paste0("Moderator: ", w)</code>.</p></dd>


<dt id="arg-effect-label">effect_label<a class="anchor" aria-label="anchor" href="#arg-effect-label"></a></dt>
<dd><p>The label of the
vertical axis. If <code>NULL</code>, the default,
it will be generated from the path.</p></dd>


<dt id="arg-add-zero-line">add_zero_line<a class="anchor" aria-label="anchor" href="#arg-add-zero-line"></a></dt>
<dd><p>Whether a
horizontal line at zero will be drawn.
Default is <code>TRUE</code>.</p></dd>


<dt id="arg-always-draw-zero-line">always_draw_zero_line<a class="anchor" aria-label="anchor" href="#arg-always-draw-zero-line"></a></dt>
<dd><p>If <code>FALSE</code>,
the default,
then the line at zero, if requested
will be drawn
only if zero is within the range of
the plot. If <code>TRUE</code>, then the line
at zero will always be drawn.</p></dd>


<dt id="arg-line-linewidth">line_linewidth<a class="anchor" aria-label="anchor" href="#arg-line-linewidth"></a></dt>
<dd><p>The width of
the line of the effect for each
level of the moderator, to be used
by <code><a href="https://ggplot2.tidyverse.org/reference/geom_path.html" class="external-link">ggplot2::geom_line()</a></code>. Default is 1.
Always overrides the value of
<code>line_args</code>.</p></dd>


<dt id="arg-line-color">line_color<a class="anchor" aria-label="anchor" href="#arg-line-color"></a></dt>
<dd><p>The color of the line
of the effect for each level of the
moderator, to be used
by <code><a href="https://ggplot2.tidyverse.org/reference/geom_path.html" class="external-link">ggplot2::geom_line()</a></code>.
Default is "blue".
Always overrides the value of
<code>line_args</code>.</p></dd>


<dt id="arg-shade-the-band">shade_the_band<a class="anchor" aria-label="anchor" href="#arg-shade-the-band"></a></dt>
<dd><p>If <code>TRUE</code>,
the default, a confidence band will
be drawn as a region along the line
if confidence intervals can be retrieved
from <code>object</code>.</p></dd>


<dt id="arg-draw-the-intervals">draw_the_intervals<a class="anchor" aria-label="anchor" href="#arg-draw-the-intervals"></a></dt>
<dd><p>If <code>TRUE</code>,
the default, two lines will be drawn
for the confidence intervals along
the line if they can be retrieved
from <code>object</code>.</p></dd>


<dt id="arg-band-fill-color">band_fill_color<a class="anchor" aria-label="anchor" href="#arg-band-fill-color"></a></dt>
<dd><p>The color of
of the confidence band, to be used
by <code><a href="https://ggplot2.tidyverse.org/reference/geom_ribbon.html" class="external-link">ggplot2::geom_ribbon()</a></code>.
Default is "lightgrey".
Always overrides the value of
<code>band_args</code>.</p></dd>


<dt id="arg-band-alpha">band_alpha<a class="anchor" aria-label="anchor" href="#arg-band-alpha"></a></dt>
<dd><p>A number from
0 to 1 for the level
of transparency
of the confidence band, to be used
by <code><a href="https://ggplot2.tidyverse.org/reference/geom_ribbon.html" class="external-link">ggplot2::geom_ribbon()</a></code>.
Default is <code>.50</code>.
Always overrides the value of
<code>band_args</code>.</p></dd>


<dt id="arg-intervals-color">intervals_color<a class="anchor" aria-label="anchor" href="#arg-intervals-color"></a></dt>
<dd><p>The color of
the lines of the confidence intervals,
to be used
by <code><a href="https://ggplot2.tidyverse.org/reference/geom_path.html" class="external-link">ggplot2::geom_line()</a></code>. Default is
<code>"black"</code>.
Always overrides the value of
<code>intervals_args</code>.</p></dd>


<dt id="arg-intervals-linetype">intervals_linetype<a class="anchor" aria-label="anchor" href="#arg-intervals-linetype"></a></dt>
<dd><p>The line
type of
the lines of the confidence intervals,
to be used
by <code><a href="https://ggplot2.tidyverse.org/reference/geom_path.html" class="external-link">ggplot2::geom_line()</a></code>. Default is
<code>"longdash"</code>.
Always overrides the value of
<code>intervals_args</code>.</p></dd>


<dt id="arg-intervals-linewidth">intervals_linewidth<a class="anchor" aria-label="anchor" href="#arg-intervals-linewidth"></a></dt>
<dd><p>The line
width of
the lines of the confidence intervals,
to be used
by <code><a href="https://ggplot2.tidyverse.org/reference/geom_path.html" class="external-link">ggplot2::geom_line()</a></code>. Default is
1.
Always overrides the value of
<code>intervals_args</code>.</p></dd>


<dt id="arg-zero-line-color">zero_line_color<a class="anchor" aria-label="anchor" href="#arg-zero-line-color"></a></dt>
<dd><p>The color of
the line at zero,
to be used
by <code><a href="https://ggplot2.tidyverse.org/reference/geom_path.html" class="external-link">ggplot2::geom_line()</a></code>. Default is
<code>"grey"</code>.
Always overrides the value of
<code>zero_line_args</code>.</p></dd>


<dt id="arg-zero-line-linewidth">zero_line_linewidth<a class="anchor" aria-label="anchor" href="#arg-zero-line-linewidth"></a></dt>
<dd><p>The line
width of
the line at zero,
to be used
by <code><a href="https://ggplot2.tidyverse.org/reference/geom_path.html" class="external-link">ggplot2::geom_line()</a></code>. Default is
1.
Always overrides the value of
<code>zero_line_args</code>.</p></dd>


<dt id="arg-zero-line-linetype">zero_line_linetype<a class="anchor" aria-label="anchor" href="#arg-zero-line-linetype"></a></dt>
<dd><p>The line
type of
the line at zero,
to be used
by <code><a href="https://ggplot2.tidyverse.org/reference/geom_path.html" class="external-link">ggplot2::geom_line()</a></code>. Default is
<code>"solid"</code>.
Always overrides the value of
<code>zero_line_args</code>.</p></dd>


<dt id="arg-line-args">line_args<a class="anchor" aria-label="anchor" href="#arg-line-args"></a></dt>
<dd><p>A named list of
additional arguments to be passed
to <code><a href="https://ggplot2.tidyverse.org/reference/geom_path.html" class="external-link">ggplot2::geom_line()</a></code> for the line
of the effect against moderator.
Default is <code><a href="https://rdrr.io/r/base/list.html" class="external-link">list()</a></code>.</p></dd>


<dt id="arg-band-args">band_args<a class="anchor" aria-label="anchor" href="#arg-band-args"></a></dt>
<dd><p>A named list of
additional arguments to be passed
to <code><a href="https://ggplot2.tidyverse.org/reference/geom_ribbon.html" class="external-link">ggplot2::geom_ribbon()</a></code> for the
confidence band.
Default is <code><a href="https://rdrr.io/r/base/list.html" class="external-link">list()</a></code>.</p></dd>


<dt id="arg-intervals-args">intervals_args<a class="anchor" aria-label="anchor" href="#arg-intervals-args"></a></dt>
<dd><p>A named list of
additional arguments to be passed
to <code><a href="https://ggplot2.tidyverse.org/reference/geom_path.html" class="external-link">ggplot2::geom_line()</a></code> for the lines
of confidence intervals.
Default is <code><a href="https://rdrr.io/r/base/list.html" class="external-link">list()</a></code>.</p></dd>


<dt id="arg-zero-line-args">zero_line_args<a class="anchor" aria-label="anchor" href="#arg-zero-line-args"></a></dt>
<dd><p>A named list of
additional arguments to be passed
to <code><a href="https://ggplot2.tidyverse.org/reference/geom_path.html" class="external-link">ggplot2::geom_line()</a></code> for the line
at zero.
Default is <code><a href="https://rdrr.io/r/base/list.html" class="external-link">list()</a></code>.</p></dd>


<dt id="arg-level">level<a class="anchor" aria-label="anchor" href="#arg-level"></a></dt>
<dd><p>The level of confidence
for the confidence intervals computed
from the original standard errors. Used only for
paths without mediators and both
<code>x</code>- and <code>y</code>-variables are not
standardized.</p></dd>


<dt id="arg-to-fill">to_fill<a class="anchor" aria-label="anchor" href="#arg-to-fill"></a></dt>
<dd><p>The output of
<code><a href="cond_indirect.html">cond_indirect_effects()</a></code> or
<code><a href="pseudo_johnson_neyman.html">pseudo_johnson_neyman()</a></code>, for which
additional levels of the moderator
will be added.</p></dd>


<dt id="arg-cond-out">cond_out<a class="anchor" aria-label="anchor" href="#arg-cond-out"></a></dt>
<dd><p>If <code>to_fill</code> is
the output of <code><a href="pseudo_johnson_neyman.html">pseudo_johnson_neyman()</a></code>,
the original output of <code><a href="cond_indirect.html">cond_indirect_effects()</a></code>
used in the call to <code><a href="pseudo_johnson_neyman.html">pseudo_johnson_neyman()</a></code>
need to be supplied through this argument.</p></dd>


<dt id="arg-k">k<a class="anchor" aria-label="anchor" href="#arg-k"></a></dt>
<dd><p>The desired number of levels
of the moderator.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p><code>plot_effect_vs_w()</code> returns a
<code>ggplot2</code> graph. Plotted if
not assigned to a name. It can be
further modified like a usual
<code>ggplot2</code> graph.</p>
<p><code>fill_wlevels()</code> returns an updated
output of <code><a href="cond_indirect.html">cond_indirect_effects()</a></code>
with the desired number of levels of
the moderator.</p>
    </div>
    <div class="section level2">
    <h2 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a></h2>
    <p>It receives an output
of <code><a href="cond_indirect.html">cond_indirect_effects()</a></code> and
plot the effect against the
moderator. The effect can be an
indirect effect or a direct effect.</p>
<p>It uses the levels of the moderator
stored in the output of
<code><a href="cond_indirect.html">cond_indirect_effects()</a></code>. Therefore,
the desired levels of the moderator
to be plotted needs to be specified
when calling <code><a href="cond_indirect.html">cond_indirect_effects()</a></code>,
as illustrated in the example.</p>
<p>Currently, this function only supports
a path with exactly one moderator,
and the moderator is a numeric variable.</p><div class="section">
<h3 id="using-original-standard-errors">Using Original Standard Errors<a class="anchor" aria-label="anchor" href="#using-original-standard-errors"></a></h3>


<p>If the following conditions are met, the
stored standard errors, if available,
will be used to
form the confidence intervals:</p><ul><li><p>Confidence intervals have not been
formed (e.g., by bootstrapping or
Monte Carlo).</p></li>
<li><p>The path has no mediators.</p></li>
<li><p>The model has only one group.</p></li>
<li><p>The path is moderated by one or
more moderator.</p></li>
<li><p>Both the <code>x</code>-variable and the
<code>y</code>-variable are not standardized.</p></li>
</ul><p>If the model is fitted by OLS
regression (e.g., using <code><a href="https://rdrr.io/r/stats/lm.html" class="external-link">stats::lm()</a></code>),
then the variance-covariance matrix
of the coefficient estimates will be
used, and confidence
intervals are computed from the <em>t</em>
statistic.</p>
<p>If the model is fitted by structural
equation modeling using <code>lavaan</code>, then
the variance-covariance computed by
<code>lavaan</code> will be used,
and confidence intervals are computed
from the <em>z</em> statistic.</p>
</div>

<div class="section">
<h3 id="caution">Caution<a class="anchor" aria-label="anchor" href="#caution"></a></h3>


<p>If the model is fitted by structural
equation modeling and has moderators,
the standard errors, <em>p</em>-values,
and confidence interval computed
from the variance-covariance matrices
for conditional effects
can only be trusted if all covariances
involving the product terms are free.
If any of them are fixed, for example,
fixed to zero, it is possible
that the model is not invariant to
linear transformation of the variables.</p>
</div>

<p>The function <code>fill_wlevels()</code> is
a helper to automatically
fill in additional levels
of the moderators, to plot a graph
with smooth confidence band. It
accepts the output of <code><a href="cond_indirect.html">cond_indirect_effects()</a></code>
or <code><a href="pseudo_johnson_neyman.html">pseudo_johnson_neyman()</a></code>, finds
the range of the values of the
moderator, and returns an output
of <code><a href="cond_indirect.html">cond_indirect_effects()</a></code> with
the desired number of levels within
this range. It is intended to be a
helper. If it does not work, users
can still get the desired number of
levels by setting the values manually
when calling <code><a href="cond_indirect.html">cond_indirect_effects()</a></code>.</p>
    </div>
    <div class="section level2">
    <h2 id="see-also">See also<a class="anchor" aria-label="anchor" href="#see-also"></a></h2>
    <div class="dont-index"><p><code><a href="cond_indirect.html">cond_indirect_effects()</a></code></p></div>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">dat</span> <span class="op">&lt;-</span> <span class="va">data_med_mod_a</span></span></span>
<span class="r-in"><span><span class="va">lm_m</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/stats/lm.html" class="external-link">lm</a></span><span class="op">(</span><span class="va">m</span> <span class="op">~</span> <span class="va">x</span><span class="op">*</span><span class="va">w</span> <span class="op">+</span> <span class="va">c1</span> <span class="op">+</span> <span class="va">c2</span>, <span class="va">dat</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">lm_y</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/stats/lm.html" class="external-link">lm</a></span><span class="op">(</span><span class="va">y</span> <span class="op">~</span> <span class="va">m</span> <span class="op">+</span> <span class="va">x</span> <span class="op">+</span> <span class="va">c1</span> <span class="op">+</span> <span class="va">c2</span>, <span class="va">dat</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">fit_lm</span> <span class="op">&lt;-</span> <span class="fu"><a href="lm2list.html">lm2list</a></span><span class="op">(</span><span class="va">lm_m</span>, <span class="va">lm_y</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="co"># Set R to a large value in real research.</span></span></span>
<span class="r-in"><span><span class="va">boot_out_lm</span> <span class="op">&lt;-</span> <span class="fu"><a href="do_boot.html">do_boot</a></span><span class="op">(</span><span class="va">fit_lm</span>,</span></span>
<span class="r-in"><span>                       R <span class="op">=</span> <span class="fl">50</span>,</span></span>
<span class="r-in"><span>                       seed <span class="op">=</span> <span class="fl">54532</span>,</span></span>
<span class="r-in"><span>                       parallel <span class="op">=</span> <span class="cn">FALSE</span>,</span></span>
<span class="r-in"><span>                       progress <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Compute the conditional indirect effects</span></span></span>
<span class="r-in"><span><span class="co"># from 2 SD below mean to 2 SD above mean of the moderator,</span></span></span>
<span class="r-in"><span><span class="co"># by setting sd_from_mean of cond_indirect_effects().</span></span></span>
<span class="r-in"><span><span class="co"># Set length.out to a larger number for a smooth graph.</span></span></span>
<span class="r-in"><span><span class="va">out_lm</span> <span class="op">&lt;-</span> <span class="fu"><a href="cond_indirect.html">cond_indirect_effects</a></span><span class="op">(</span>wlevels <span class="op">=</span> <span class="st">"w"</span>,</span></span>
<span class="r-in"><span>                                x <span class="op">=</span> <span class="st">"x"</span>,</span></span>
<span class="r-in"><span>                                y <span class="op">=</span> <span class="st">"y"</span>,</span></span>
<span class="r-in"><span>                                m <span class="op">=</span> <span class="st">"m"</span>,</span></span>
<span class="r-in"><span>                                fit <span class="op">=</span> <span class="va">fit_lm</span>,</span></span>
<span class="r-in"><span>                                sd_from_mean <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/seq.html" class="external-link">seq</a></span><span class="op">(</span><span class="op">-</span><span class="fl">2</span>, <span class="fl">2</span>, length.out <span class="op">=</span> <span class="fl">10</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>                                boot_ci <span class="op">=</span> <span class="cn">TRUE</span>,</span></span>
<span class="r-in"><span>                                boot_out <span class="op">=</span> <span class="va">boot_out_lm</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">p</span> <span class="op">&lt;-</span> <span class="fu">plot_effect_vs_w</span><span class="op">(</span><span class="va">out_lm</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">p</span></span></span>
<span class="r-plt img"><img src="plot_effect_vs_w-1.png" alt="" width="700" height="433"></span>
<span class="r-in"><span><span class="co"># The output is a ggplot2 graph and so can be further customized</span></span></span>
<span class="r-in"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://ggplot2.tidyverse.org" class="external-link">ggplot2</a></span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="co"># Add the line for the mean of w, the moderator</span></span></span>
<span class="r-in"><span><span class="va">p2</span> <span class="op">&lt;-</span> <span class="va">p</span> <span class="op">+</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_abline.html" class="external-link">geom_vline</a></span><span class="op">(</span>xintercept <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/mean.html" class="external-link">mean</a></span><span class="op">(</span><span class="va">dat</span><span class="op">$</span><span class="va">w</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>                     color <span class="op">=</span> <span class="st">"red"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">p2</span></span></span>
<span class="r-plt img"><img src="plot_effect_vs_w-2.png" alt="" width="700" height="433"></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Use fill_wlevels to add moderator levels:</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">dat</span> <span class="op">&lt;-</span> <span class="va">data_med_mod_a</span></span></span>
<span class="r-in"><span><span class="va">lm_m</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/stats/lm.html" class="external-link">lm</a></span><span class="op">(</span><span class="va">m</span> <span class="op">~</span> <span class="va">x</span><span class="op">*</span><span class="va">w</span> <span class="op">+</span> <span class="va">c1</span> <span class="op">+</span> <span class="va">c2</span>, <span class="va">dat</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">lm_y</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/stats/lm.html" class="external-link">lm</a></span><span class="op">(</span><span class="va">y</span> <span class="op">~</span> <span class="va">m</span> <span class="op">+</span> <span class="va">x</span> <span class="op">+</span> <span class="va">c1</span> <span class="op">+</span> <span class="va">c2</span>, <span class="va">dat</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">fit_lm</span> <span class="op">&lt;-</span> <span class="fu"><a href="lm2list.html">lm2list</a></span><span class="op">(</span><span class="va">lm_m</span>, <span class="va">lm_y</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">wlevels</span> <span class="op">&lt;-</span> <span class="fu"><a href="mod_levels.html">mod_levels</a></span><span class="op">(</span>w <span class="op">=</span> <span class="st">"w"</span>,</span></span>
<span class="r-in"><span>                      sd_from_mean <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="op">-</span><span class="fl">3</span>, <span class="fl">0</span>, <span class="fl">3</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>                      fit <span class="op">=</span> <span class="va">fit_lm</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">wlevels</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>                  w</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> M+3.0SD  5.1338282</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Mean     2.1792785</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> M-3.0SD -0.7752712</span>
<span class="r-in"><span><span class="va">cond_out</span> <span class="op">&lt;-</span> <span class="fu"><a href="cond_indirect.html">cond_indirect_effects</a></span><span class="op">(</span>wlevels <span class="op">=</span> <span class="va">wlevels</span>,</span></span>
<span class="r-in"><span>                                  x <span class="op">=</span> <span class="st">"x"</span>,</span></span>
<span class="r-in"><span>                                  y <span class="op">=</span> <span class="st">"m"</span>,</span></span>
<span class="r-in"><span>                                  fit <span class="op">=</span> <span class="va">fit_lm</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">cond_out</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> == Conditional effects ==</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  Path: x -&gt; m</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  Conditional on moderator(s): w</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  Moderator(s) represented by: w</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       [w]    (w)    ind    SE   Stat pvalue Sig  CI.lo CI.hi</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1 M+3.0SD  5.134  5.119 1.428  3.584  0.001 ***  2.283 7.955</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2 Mean     2.179  2.228 0.457  4.874  0.000 ***  1.321 3.136</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3 M-3.0SD -0.775 -0.663 1.546 -0.429  0.669     -3.733 2.407</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  - [SE] are regression standard errors.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  - [Stat] are the t statistics used to test the effects.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  - [pvalue] are p-values computed from 'Stat'.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  - [Sig]: 0 ‘***’ 0.001 ‘**’ 0.01 ‘*’ 0.05 ‘ ’ 1.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  - [CI.lo to CI.hi] are 95.0% confidence interval computed from</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    regression standard errors.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  - The 'ind' column shows the conditional effects.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  </span>
<span class="r-in"><span><span class="co"># Only 3 points</span></span></span>
<span class="r-in"><span><span class="va">p1</span> <span class="op">&lt;-</span> <span class="fu">plot_effect_vs_w</span><span class="op">(</span><span class="va">cond_out</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">p1</span></span></span>
<span class="r-plt img"><img src="plot_effect_vs_w-3.png" alt="" width="700" height="433"></span>
<span class="r-in"><span><span class="co"># Increase the number of levels to 15</span></span></span>
<span class="r-in"><span><span class="va">cond_out_filled</span> <span class="op">&lt;-</span> <span class="fu">fill_wlevels</span><span class="op">(</span><span class="va">cond_out</span>,</span></span>
<span class="r-in"><span>                                k <span class="op">=</span> <span class="fl">15</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">cond_out_filled</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> == Conditional effects ==</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  Path: x -&gt; m</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  Conditional on moderator(s): w</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  Moderator(s) represented by: w</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>                   [w]    (w)    ind    SE   Stat pvalue Sig  CI.lo CI.hi</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1  5.13382823045524    5.134  5.119 1.428  3.584  0.001 ***  2.283 7.955</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2  4.71174970320561    4.712  4.706 1.238  3.801  0.000 ***  2.248 7.164</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3  4.28967117595598    4.290  4.293 1.052  4.080  0.000 ***  2.204 6.383</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 4  3.86759264870635    3.868  3.880 0.874  4.439  0.000 ***  2.145 5.616</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 5  3.44551412145672    3.446  3.467 0.709  4.892  0.000 ***  2.060 4.875</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 6  3.0234355942071     3.023  3.054 0.568  5.377  0.000 ***  1.926 4.182</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 7  2.60135706695747    2.601  2.641 0.474  5.569  0.000 ***  1.700 3.583</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 8  2.17927853970784    2.179  2.228 0.457  4.874  0.000 ***  1.321 3.136</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 9  1.75720001245821    1.757  1.815 0.524  3.462  0.001 ***  0.774 2.857</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 10 1.33512148520858    1.335  1.402 0.650  2.156  0.034 *    0.111 2.693</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 11 0.913042957958955   0.913  0.989 0.808  1.225  0.224     -0.615 2.593</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 12 0.490964430709327   0.491  0.576 0.982  0.587  0.559     -1.373 2.526</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 13 0.068885903459699   0.069  0.163 1.165  0.140  0.889     -2.150 2.477</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 14 -0.353192623789929 -0.353 -0.250 1.354 -0.184  0.854     -2.938 2.439</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 15 -0.775271151039557 -0.775 -0.663 1.546 -0.429  0.669     -3.733 2.407</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  - [SE] are regression standard errors.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  - [Stat] are the t statistics used to test the effects.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  - [pvalue] are p-values computed from 'Stat'.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  - [Sig]: 0 ‘***’ 0.001 ‘**’ 0.01 ‘*’ 0.05 ‘ ’ 1.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  - [CI.lo to CI.hi] are 95.0% confidence interval computed from</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    regression standard errors.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  - The 'ind' column shows the conditional effects.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  </span>
<span class="r-in"><span><span class="va">p2</span> <span class="op">&lt;-</span> <span class="fu">plot_effect_vs_w</span><span class="op">(</span><span class="va">cond_out_filled</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">p2</span></span></span>
<span class="r-plt img"><img src="plot_effect_vs_w-4.png" alt="" width="700" height="433"></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span></span></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Shu Fai Cheung, Sing-Hang Cheung.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.3.</p>
</div>

    </footer></div>





  </body></html>

