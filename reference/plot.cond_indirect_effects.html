<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Plot Conditional Effects — plot.cond_indirect_effects • manymome</title><!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png"><link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png"><link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png"><link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png"><link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png"><link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png"><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/Hind-0.4.9/font.css" rel="stylesheet"><link href="../deps/Oxygen_Mono-0.4.9/font.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Plot Conditional Effects — plot.cond_indirect_effects"><meta name="description" content="Plot the conditional
effects for different levels of
moderators."><meta property="og:description" content="Plot the conditional
effects for different levels of
moderators."><meta property="og:image" content="https://sfcheung.github.io/manymome/logo.png"><meta name="google-site-verification" content="0VLBmFnW_UJFI-7gXnORPBsWxqZwmzuGpK-TeVRLBjQ"></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-primary" data-bs-theme="dark" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">manymome</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.2.4.9</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="nav-item"><a class="nav-link" href="../articles/manymome.html">Get started</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles"><li><h6 class="dropdown-header" data-toc-skip>&lt;Structural Equation Models&gt;</h6></li>
    <li><a class="dropdown-item" href="../articles/manymome.html">Moderation, Mediation, Moderated Mediation in Path Models</a></li>
    <li><a class="dropdown-item" href="../articles/med_lav.html">Mediation among Latent Variables</a></li>
    <li><hr class="dropdown-divider"></li>
    <li><h6 class="dropdown-header" data-toc-skip>&lt;Multiple Regression&gt;</h6></li>
    <li><a class="dropdown-item" href="../articles/med_lm.html">Mediation</a></li>
    <li><a class="dropdown-item" href="../articles/mome_lm.html">Moderated Mediation</a></li>
    <li><hr class="dropdown-divider"></li>
    <li><h6 class="dropdown-header" data-toc-skip>&lt;Multigroup Models&gt;</h6></li>
    <li><a class="dropdown-item" href="../articles/med_mg.html">Mediation in Multigroup Models</a></li>
    <li><hr class="dropdown-divider"></li>
    <li><h6 class="dropdown-header" data-toc-skip>&lt;Multiple Imputation&gt;</h6></li>
    <li><a class="dropdown-item" href="../articles/do_mc_lavaan_mi.html">Monte Carlo Confidence Intervals with Multiple Imputation</a></li>
    <li><hr class="dropdown-divider"></li>
    <li><h6 class="dropdown-header" data-toc-skip>&lt;Helpers&gt;</h6></li>
    <li><a class="dropdown-item" href="../articles/do_boot.html">Generate Bootstrap Estimates</a></li>
    <li><a class="dropdown-item" href="../articles/do_mc.html">Generate Monte Carlo Estimates</a></li>
    <li><a class="dropdown-item" href="../articles/mod_levels.html">Set Moderator Levels</a></li>
    <li><hr class="dropdown-divider"></li>
    <li><h6 class="dropdown-header" data-toc-skip>&lt;Technical Appendices&gt;</h6></li>
    <li><a class="dropdown-item" href="../articles/get_prod.html">Workflow of `get_prod()` and Friends</a></li>
    <li><a class="dropdown-item" href="../articles/manymome_cond_indirect_and_friends_workflow.html">Workflow of `cond_indirect()`</a></li>
    <li><a class="dropdown-item" href="../articles/manymome_do_boot_workflow.html">Workflow of `do_boot()`</a></li>
    <li><a class="dropdown-item" href="../articles/manymome_do_mc_workflow.html">Workflow of `do_mc()`</a></li>
  </ul></li>
<li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/sfcheung/manymome/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>Plot Conditional Effects</h1>
      <small class="dont-index">Source: <a href="https://github.com/sfcheung/manymome/blob/main/R/plotmod.R" class="external-link"><code>R/plotmod.R</code></a></small>
      <div class="d-none name"><code>plot.cond_indirect_effects.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>Plot the conditional
effects for different levels of
moderators.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="co"># S3 method for class 'cond_indirect_effects'</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span></span>
<span>  <span class="va">x</span>,</span>
<span>  <span class="va">x_label</span>,</span>
<span>  w_label <span class="op">=</span> <span class="st">"Moderator(s)"</span>,</span>
<span>  <span class="va">y_label</span>,</span>
<span>  <span class="va">title</span>,</span>
<span>  x_from_mean_in_sd <span class="op">=</span> <span class="fl">1</span>,</span>
<span>  x_method <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"sd"</span>, <span class="st">"percentile"</span><span class="op">)</span>,</span>
<span>  x_percentiles <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0.16</span>, <span class="fl">0.84</span><span class="op">)</span>,</span>
<span>  x_sd_to_percentiles <span class="op">=</span> <span class="cn">NA</span>,</span>
<span>  note_standardized <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  no_title <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  line_width <span class="op">=</span> <span class="fl">1</span>,</span>
<span>  point_size <span class="op">=</span> <span class="fl">5</span>,</span>
<span>  graph_type <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"default"</span>, <span class="st">"tumble"</span><span class="op">)</span>,</span>
<span>  use_implied_stats <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  facet_grid_cols <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  facet_grid_rows <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  facet_grid_args <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>as.table <span class="op">=</span> <span class="cn">FALSE</span>, labeller <span class="op">=</span> <span class="st">"label_both"</span><span class="op">)</span>,</span>
<span>  digits <span class="op">=</span> <span class="fl">4</span>,</span>
<span>  <span class="va">...</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-x">x<a class="anchor" aria-label="anchor" href="#arg-x"></a></dt>
<dd><p>The output of
<code><a href="cond_indirect.html">cond_indirect_effects()</a></code>. (Named <code>x</code>
because it is required in the naming
of arguments of the <code>plot</code> generic
function.)</p></dd>


<dt id="arg-x-label">x_label<a class="anchor" aria-label="anchor" href="#arg-x-label"></a></dt>
<dd><p>The label for the
X-axis. Default is the value of the
predictor in the output of
<code><a href="cond_indirect.html">cond_indirect_effects()</a></code>.</p></dd>


<dt id="arg-w-label">w_label<a class="anchor" aria-label="anchor" href="#arg-w-label"></a></dt>
<dd><p>The label for the
legend for the lines. Default is
<code>"Moderator(s)"</code>.</p></dd>


<dt id="arg-y-label">y_label<a class="anchor" aria-label="anchor" href="#arg-y-label"></a></dt>
<dd><p>The label for the
Y-axis. Default is the name of the
response variable in the model.</p></dd>


<dt id="arg-title">title<a class="anchor" aria-label="anchor" href="#arg-title"></a></dt>
<dd><p>The title of the graph.
If not supplied, it will be generated
from the variable names or labels (in
<code>x_label</code>, <code>y_label</code>, and <code>w_label</code>).
If <code>""</code>, no title will be printed.
This can be used when the plot is for
manuscript submission and figures are
required to have no titles.</p></dd>


<dt id="arg-x-from-mean-in-sd">x_from_mean_in_sd<a class="anchor" aria-label="anchor" href="#arg-x-from-mean-in-sd"></a></dt>
<dd><p>How many SD
from mean is used to define "low" and
"high" for the focal variable.
Default is 1.</p></dd>


<dt id="arg-x-method">x_method<a class="anchor" aria-label="anchor" href="#arg-x-method"></a></dt>
<dd><p>How to define "high"
and "low" for the focal variable
levels. Default is in terms of the
standard deviation of the focal
variable, <code>"sd"</code>. If equal to
<code>"percentile"</code>, then the percentiles
of the focal variable in the dataset
is used. If the focal variable is
a latent variable, only
<code>"sd"</code> can be used.</p></dd>


<dt id="arg-x-percentiles">x_percentiles<a class="anchor" aria-label="anchor" href="#arg-x-percentiles"></a></dt>
<dd><p>If <code>x_method</code> is
<code>"percentile"</code>, then this argument
specifies the two percentiles to be
used, divided by 100. It must be a
vector of two numbers. The default
is <code>c(.16, .84)</code>, the 16th and 84th
percentiles, which corresponds
approximately to one SD below and
above mean for a normal distribution,
respectively.</p></dd>


<dt id="arg-x-sd-to-percentiles">x_sd_to_percentiles<a class="anchor" aria-label="anchor" href="#arg-x-sd-to-percentiles"></a></dt>
<dd><p>If
<code>x_method</code> is <code>"percentile"</code> and this
argument is set to a number, this
number will be used to determine the
percentiles to be used. The lower
percentile is the percentile in a
normal distribution that is
<code>x_sd_to_percentiles</code> SD below the
mean. The upper percentile is the
percentile in a normal distribution
that is <code>x_sd_to_percentiles</code> SD
above the mean. Therefore, if
<code>x_sd_to_percentiles</code> is set to 1,
then the lower and upper percentiles
are 16th and 84th, respectively.
Default is <code>NA</code>.</p></dd>


<dt id="arg-note-standardized">note_standardized<a class="anchor" aria-label="anchor" href="#arg-note-standardized"></a></dt>
<dd><p>If <code>TRUE</code>,
will check whether a variable has SD
nearly equal to one. If yes, will
report this in the plot. Default is
<code>TRUE</code>.</p></dd>


<dt id="arg-no-title">no_title<a class="anchor" aria-label="anchor" href="#arg-no-title"></a></dt>
<dd><p>If <code>TRUE</code>, title will
be suppressed. Default is <code>FALSE</code>.</p></dd>


<dt id="arg-line-width">line_width<a class="anchor" aria-label="anchor" href="#arg-line-width"></a></dt>
<dd><p>The width of the
lines as used in
<code><a href="https://ggplot2.tidyverse.org/reference/geom_segment.html" class="external-link">ggplot2::geom_segment()</a></code>. Default is
1.</p></dd>


<dt id="arg-point-size">point_size<a class="anchor" aria-label="anchor" href="#arg-point-size"></a></dt>
<dd><p>The size of the
points as used in
<code><a href="https://ggplot2.tidyverse.org/reference/geom_point.html" class="external-link">ggplot2::geom_point()</a></code>. Default is
5.</p></dd>


<dt id="arg-graph-type">graph_type<a class="anchor" aria-label="anchor" href="#arg-graph-type"></a></dt>
<dd><p>If <code>"default"</code>, the
typical line-graph with equal
end-points will be plotted. If
<code>"tumble"</code>, then the tumble graph
proposed by Bodner (2016) will be
plotted. Default is <code>"default"</code>
for single-group models, and
<code>"tumble"</code> for multigroup models.</p></dd>


<dt id="arg-use-implied-stats">use_implied_stats<a class="anchor" aria-label="anchor" href="#arg-use-implied-stats"></a></dt>
<dd><p>For a
multigroup model, if <code>TRUE</code>,
the default,
model implied statistics will be
used in computing the means and SDs,
which take into equality constraints,
if any.
If <code>FALSE</code>, then the raw
data is
used to compute the means and SDs.
For latent variables, model implied
statistics are always used.</p></dd>


<dt id="arg-facet-grid-cols-facet-grid-rows">facet_grid_cols, facet_grid_rows<a class="anchor" aria-label="anchor" href="#arg-facet-grid-cols-facet-grid-rows"></a></dt>
<dd><p>If either or both of them are set
to character vector(s) of moderator
names, then <code><a href="https://ggplot2.tidyverse.org/reference/facet_grid.html" class="external-link">ggplot2::facet_grid()</a></code>
will be used to plot the graph,
with <code>facet_grid_cols</code> used as <code>cols</code>
and <code>facet_grid_rows</code> used as <code>rows</code>
when calling <code><a href="https://ggplot2.tidyverse.org/reference/facet_grid.html" class="external-link">ggplot2::facet_grid()</a></code>.</p></dd>


<dt id="arg-facet-grid-args">facet_grid_args<a class="anchor" aria-label="anchor" href="#arg-facet-grid-args"></a></dt>
<dd><p>The list of
arguments to be used in calling
<code><a href="https://ggplot2.tidyverse.org/reference/facet_grid.html" class="external-link">ggplot2::facet_grid()</a></code>. Ignored
if <code><a href="https://ggplot2.tidyverse.org/reference/facet_grid.html" class="external-link">ggplot2::facet_grid()</a></code> is not
used.</p></dd>


<dt id="arg-digits">digits<a class="anchor" aria-label="anchor" href="#arg-digits"></a></dt>
<dd><p>The number of decimal
places to be printed for numerical
moderators when <code>facet_grid</code> is used.
Default is 4.</p></dd>


<dt id="arg--">...<a class="anchor" aria-label="anchor" href="#arg--"></a></dt>
<dd><p>Additional arguments.
Ignored.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p>A <code>ggplot2</code> graph. Plotted if
not assigned to a name. It can be
further modified like a usual
<code>ggplot2</code> graph.</p>
    </div>
    <div class="section level2">
    <h2 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a></h2>
    <p>This function is a plot
method of the output of
<code><a href="cond_indirect.html">cond_indirect_effects()</a></code>. It will
use the levels of moderators in the
output.</p>
<p>It plots the conditional effect from
<code>x</code> to <code>y</code> in a model for different
levels of the moderators. For
multigroup models, the group will
be the 'moderator' and one line is
drawn for each group.</p>
<p>It does not support conditional
indirect effects. If there is one or
more mediators in <code>x</code>, it will raise
an error.</p><div class="section">
<h3 id="multigroup-models">Multigroup Models<a class="anchor" aria-label="anchor" href="#multigroup-models"></a></h3>


<p>Since Version 0.1.14.2, support for
multigroup models has been added for models
fitted by <code>lavaan</code>. If the effect
for each group is drawn, the
<code>graph_type</code> is automatically switched
to <code>"tumble"</code> and the means and SDs
in each group will be used to determine
the locations of the points.</p>
<p>If the multigroup model has any equality
constraints, the implied means and/or
SDs may be different from those of
the raw data. For example, the mean
of the <code>x</code>-variable may be constrained
to be equal in this model. To plot
the tumble graph using the model implied
means and SDs, set <code>use_implied_stats</code>
to <code>TRUE</code>.</p>
</div>

<div class="section">
<h3 id="latent-variables">Latent Variables<a class="anchor" aria-label="anchor" href="#latent-variables"></a></h3>


<p>A path that involves a latent <code>x</code>-variable
and/or a latent <code>y</code>-variable can be
plotted. Because the latent variables
have no observed data, the model
implied statistics will always be used
to get the means and SDs to compute
values such as the low and high points
of the <code>x</code>-variable.</p>
</div>

    </div>
    <div class="section level2">
    <h2 id="references">References<a class="anchor" aria-label="anchor" href="#references"></a></h2>
    <p>Bodner, T. E. (2016). Tumble graphs: Avoiding misleading end point
extrapolation when graphing interactions from a moderated multiple
regression analysis. <em>Journal of Educational and Behavioral
Statistics, 41</em>(6), 593-604. <a href="https://doi.org/10.3102/1076998616657080" class="external-link">doi:10.3102/1076998616657080</a></p>
    </div>
    <div class="section level2">
    <h2 id="see-also">See also<a class="anchor" aria-label="anchor" href="#see-also"></a></h2>
    <div class="dont-index"><p><code><a href="cond_indirect.html">cond_indirect_effects()</a></code></p></div>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://lavaan.ugent.be" class="external-link">lavaan</a></span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">dat</span> <span class="op">&lt;-</span> <span class="va">modmed_x1m3w4y1</span></span></span>
<span class="r-in"><span><span class="va">n</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/nrow.html" class="external-link">nrow</a></span><span class="op">(</span><span class="va">dat</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/Random.html" class="external-link">set.seed</a></span><span class="op">(</span><span class="fl">860314</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">dat</span><span class="op">$</span><span class="va">gp</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/sample.html" class="external-link">sample</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"gp1"</span>, <span class="st">"gp2"</span>, <span class="st">"gp3"</span><span class="op">)</span>, <span class="va">n</span>, replace <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">dat</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/cbind.html" class="external-link">cbind</a></span><span class="op">(</span><span class="va">dat</span>, <span class="fu"><a href="factor2var.html">factor2var</a></span><span class="op">(</span><span class="va">dat</span><span class="op">$</span><span class="va">gp</span>, prefix <span class="op">=</span> <span class="st">"gp"</span>, add_rownames <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Categorical moderator</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">mod</span> <span class="op">&lt;-</span></span></span>
<span class="r-in"><span><span class="st">"</span></span></span>
<span class="r-in"><span><span class="st">m3 ~ m1 + x + gpgp2 + gpgp3 + x:gpgp2 + x:gpgp3</span></span></span>
<span class="r-in"><span><span class="st">y ~ m2 + m3 + x</span></span></span>
<span class="r-in"><span><span class="st">"</span></span></span>
<span class="r-in"><span><span class="va">fit</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/pkg/lavaan/man/sem.html" class="external-link">sem</a></span><span class="op">(</span><span class="va">mod</span>, <span class="va">dat</span>, meanstructure <span class="op">=</span> <span class="cn">TRUE</span>, fixed.x <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">out_mm_1</span> <span class="op">&lt;-</span> <span class="fu"><a href="mod_levels.html">mod_levels</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"gpgp2"</span>, <span class="st">"gpgp3"</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>                       sd_from_mean <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="op">-</span><span class="fl">1</span>, <span class="fl">1</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>                       fit <span class="op">=</span> <span class="va">fit</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">out_1</span> <span class="op">&lt;-</span> <span class="fu"><a href="cond_indirect.html">cond_indirect_effects</a></span><span class="op">(</span>wlevels <span class="op">=</span> <span class="va">out_mm_1</span>, x <span class="op">=</span> <span class="st">"x"</span>, y <span class="op">=</span> <span class="st">"m3"</span>, fit <span class="op">=</span> <span class="va">fit</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="va">out_1</span><span class="op">)</span></span></span>
<span class="r-plt img"><img src="plot.cond_indirect_effects-1.png" alt="" width="700" height="433"></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="va">out_1</span>, graph_type <span class="op">=</span> <span class="st">"tumble"</span><span class="op">)</span></span></span>
<span class="r-plt img"><img src="plot.cond_indirect_effects-2.png" alt="" width="700" height="433"></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Numeric moderator</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">dat</span> <span class="op">&lt;-</span> <span class="va">modmed_x1m3w4y1</span></span></span>
<span class="r-in"><span><span class="va">mod2</span> <span class="op">&lt;-</span></span></span>
<span class="r-in"><span><span class="st">"</span></span></span>
<span class="r-in"><span><span class="st">m3 ~ m1 + x + w1 + x:w1</span></span></span>
<span class="r-in"><span><span class="st">y ~ m3 + x</span></span></span>
<span class="r-in"><span><span class="st">"</span></span></span>
<span class="r-in"><span><span class="va">fit2</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/pkg/lavaan/man/sem.html" class="external-link">sem</a></span><span class="op">(</span><span class="va">mod2</span>, <span class="va">dat</span>, meanstructure <span class="op">=</span> <span class="cn">TRUE</span>, fixed.x <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">out_mm_2</span> <span class="op">&lt;-</span> <span class="fu"><a href="mod_levels.html">mod_levels</a></span><span class="op">(</span><span class="st">"w1"</span>,</span></span>
<span class="r-in"><span>                       w_method <span class="op">=</span> <span class="st">"percentile"</span>,</span></span>
<span class="r-in"><span>                       percentiles <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">.16</span>, <span class="fl">.84</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>                       fit <span class="op">=</span> <span class="va">fit2</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">out_mm_2</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>            w1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 84%  1.157084</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 16% -0.626876</span>
<span class="r-in"><span><span class="va">out_2</span> <span class="op">&lt;-</span> <span class="fu"><a href="cond_indirect.html">cond_indirect_effects</a></span><span class="op">(</span>wlevels <span class="op">=</span> <span class="va">out_mm_2</span>, x <span class="op">=</span> <span class="st">"x"</span>, y <span class="op">=</span> <span class="st">"m3"</span>, fit <span class="op">=</span> <span class="va">fit2</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="va">out_2</span><span class="op">)</span></span></span>
<span class="r-plt img"><img src="plot.cond_indirect_effects-3.png" alt="" width="700" height="433"></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="va">out_2</span>, graph_type <span class="op">=</span> <span class="st">"tumble"</span><span class="op">)</span></span></span>
<span class="r-plt img"><img src="plot.cond_indirect_effects-4.png" alt="" width="700" height="433"></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Multigroup models</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">dat</span> <span class="op">&lt;-</span> <span class="va">data_med_mg</span></span></span>
<span class="r-in"><span><span class="va">mod</span> <span class="op">&lt;-</span></span></span>
<span class="r-in"><span><span class="st">"</span></span></span>
<span class="r-in"><span><span class="st">m ~ x + c1 + c2</span></span></span>
<span class="r-in"><span><span class="st">y ~ m + x + c1 + c2</span></span></span>
<span class="r-in"><span><span class="st">"</span></span></span>
<span class="r-in"><span><span class="va">fit</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/pkg/lavaan/man/sem.html" class="external-link">sem</a></span><span class="op">(</span><span class="va">mod</span>, <span class="va">dat</span>, meanstructure <span class="op">=</span> <span class="cn">TRUE</span>, fixed.x <span class="op">=</span> <span class="cn">FALSE</span>, se <span class="op">=</span> <span class="st">"none"</span>, baseline <span class="op">=</span> <span class="cn">FALSE</span>,</span></span>
<span class="r-in"><span>           group <span class="op">=</span> <span class="st">"group"</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># For a multigroup model, group will be used as</span></span></span>
<span class="r-in"><span><span class="co"># a moderator</span></span></span>
<span class="r-in"><span><span class="va">out</span> <span class="op">&lt;-</span> <span class="fu"><a href="cond_indirect.html">cond_indirect_effects</a></span><span class="op">(</span>x <span class="op">=</span> <span class="st">"m"</span>,</span></span>
<span class="r-in"><span>                             y <span class="op">=</span> <span class="st">"y"</span>,</span></span>
<span class="r-in"><span>                             fit <span class="op">=</span> <span class="va">fit</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">out</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> == Conditional effects ==</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  Path: m -&gt; y</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  Conditional on group(s): Group A[1], Group B[2]</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     Group Group_ID   ind</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1 Group A        1 0.465</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2 Group B        2 1.110</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  - The 'ind' column shows the direct effects.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  </span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="va">out</span><span class="op">)</span></span></span>
<span class="r-plt img"><img src="plot.cond_indirect_effects-5.png" alt="" width="700" height="433"></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span></span></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Shu Fai Cheung, Sing-Hang Cheung.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.1.</p>
</div>

    </footer></div>





  </body></html>

