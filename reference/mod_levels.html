<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Create Levels of Moderators — mod_levels • manymome</title><!-- favicons --><link rel="icon" type="image/png" sizes="96x96" href="../favicon-96x96.png"><link rel="icon" type="”image/svg+xml”" href="../favicon.svg"><link rel="apple-touch-icon" sizes="180x180" href="../apple-touch-icon.png"><link rel="icon" sizes="any" href="../favicon.ico"><link rel="manifest" href="../site.webmanifest"><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/Hind-0.4.10/font.css" rel="stylesheet"><link href="../deps/Oxygen_Mono-0.4.10/font.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Create Levels of Moderators — mod_levels"><meta name="description" content="Create levels of
moderators to be used by
indirect_effect(),
cond_indirect_effects(), and
cond_indirect()."><meta property="og:description" content="Create levels of
moderators to be used by
indirect_effect(),
cond_indirect_effects(), and
cond_indirect()."><meta property="og:image" content="https://sfcheung.github.io/manymome/logo.png"><meta name="google-site-verification" content="0VLBmFnW_UJFI-7gXnORPBsWxqZwmzuGpK-TeVRLBjQ"></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-primary" data-bs-theme="dark" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">manymome</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.2.9</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="nav-item"><a class="nav-link" href="../articles/manymome.html">Get started</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles"><li><h6 class="dropdown-header" data-toc-skip>&lt;Structural Equation Models&gt;</h6></li>
    <li><a class="dropdown-item" href="../articles/manymome.html">Moderation, Mediation, Moderated Mediation in Path Models</a></li>
    <li><a class="dropdown-item" href="../articles/med_lav.html">Mediation among Latent Variables</a></li>
    <li><hr class="dropdown-divider"></li>
    <li><h6 class="dropdown-header" data-toc-skip>&lt;Multiple Regression&gt;</h6></li>
    <li><a class="dropdown-item" href="../articles/med_lm.html">Mediation</a></li>
    <li><a class="dropdown-item" href="../articles/mome_lm.html">Moderated Mediation</a></li>
    <li><hr class="dropdown-divider"></li>
    <li><h6 class="dropdown-header" data-toc-skip>&lt;Quick Functions&gt;</h6></li>
    <li><a class="dropdown-item" href="../articles/q_mediation.html">All-In-One Functions For Common Mediation Models</a></li>
    <li><hr class="dropdown-divider"></li>
    <li><h6 class="dropdown-header" data-toc-skip>&lt;Multigroup Models&gt;</h6></li>
    <li><a class="dropdown-item" href="../articles/med_mg.html">Mediation in Multigroup Models</a></li>
    <li><hr class="dropdown-divider"></li>
    <li><h6 class="dropdown-header" data-toc-skip>&lt;Multiple Imputation&gt;</h6></li>
    <li><a class="dropdown-item" href="../articles/do_mc_lavaan_mi.html">Monte Carlo Confidence Intervals with Multiple Imputation</a></li>
    <li><hr class="dropdown-divider"></li>
    <li><h6 class="dropdown-header" data-toc-skip>&lt;Helpers&gt;</h6></li>
    <li><a class="dropdown-item" href="../articles/do_boot.html">Generate Bootstrap Estimates</a></li>
    <li><a class="dropdown-item" href="../articles/do_mc.html">Generate Monte Carlo Estimates</a></li>
    <li><a class="dropdown-item" href="../articles/mod_levels.html">Set Moderator Levels</a></li>
    <li><hr class="dropdown-divider"></li>
    <li><h6 class="dropdown-header" data-toc-skip>&lt;Technical Appendices&gt;</h6></li>
    <li><a class="dropdown-item" href="../articles/get_prod.html">Workflow of `get_prod()` and Friends</a></li>
    <li><a class="dropdown-item" href="../articles/manymome_cond_indirect_and_friends_workflow.html">Workflow of `cond_indirect()`</a></li>
    <li><a class="dropdown-item" href="../articles/manymome_do_boot_workflow.html">Workflow of `do_boot()`</a></li>
    <li><a class="dropdown-item" href="../articles/manymome_do_mc_workflow.html">Workflow of `do_mc()`</a></li>
  </ul></li>
<li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/sfcheung/manymome/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>Create Levels of Moderators</h1>
      <small class="dont-index">Source: <a href="https://github.com/sfcheung/manymome/blob/main/R/mod_levels.R" class="external-link"><code>R/mod_levels.R</code></a></small>
      <div class="d-none name"><code>mod_levels.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>Create levels of
moderators to be used by
<code><a href="cond_indirect.html">indirect_effect()</a></code>,
<code><a href="cond_indirect.html">cond_indirect_effects()</a></code>, and
<code><a href="cond_indirect.html">cond_indirect()</a></code>.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">mod_levels</span><span class="op">(</span></span>
<span>  <span class="va">w</span>,</span>
<span>  <span class="va">fit</span>,</span>
<span>  w_type <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"auto"</span>, <span class="st">"numeric"</span>, <span class="st">"categorical"</span><span class="op">)</span>,</span>
<span>  w_method <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"sd"</span>, <span class="st">"percentile"</span><span class="op">)</span>,</span>
<span>  sd_from_mean <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="op">-</span><span class="fl">1</span>, <span class="fl">0</span>, <span class="fl">1</span><span class="op">)</span>,</span>
<span>  percentiles <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0.16</span>, <span class="fl">0.5</span>, <span class="fl">0.84</span><span class="op">)</span>,</span>
<span>  extract_gp_names <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  prefix <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  values <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  reference_group_label <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  descending <span class="op">=</span> <span class="cn">TRUE</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="fu">mod_levels_list</span><span class="op">(</span></span>
<span>  <span class="va">...</span>,</span>
<span>  <span class="va">fit</span>,</span>
<span>  w_type <span class="op">=</span> <span class="st">"auto"</span>,</span>
<span>  w_method <span class="op">=</span> <span class="st">"sd"</span>,</span>
<span>  sd_from_mean <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  percentiles <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  extract_gp_names <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  prefix <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  descending <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  merge <span class="op">=</span> <span class="cn">FALSE</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-w">w<a class="anchor" aria-label="anchor" href="#arg-w"></a></dt>
<dd><p>Character. The names of the moderator. If the moderator is
categorical with 3 or more groups, this is the vector of the
indicator variables.</p></dd>


<dt id="arg-fit">fit<a class="anchor" aria-label="anchor" href="#arg-fit"></a></dt>
<dd><p>The fit object. Can be a
<a href="https://rdrr.io/pkg/lavaan/man/lavaan-class.html" class="external-link">lavaan::lavaan</a> object or a
list of <code><a href="https://rdrr.io/r/stats/lm.html" class="external-link">lm()</a></code> outputs.
It can also be
a <code>lavaan.mi</code> object
returned by
<code><a href="https://rdrr.io/pkg/lavaan.mi/man/lavaan.mi.html" class="external-link">lavaan.mi::lavaan.mi()</a></code> or
its wrapper, such as <code><a href="https://rdrr.io/pkg/lavaan.mi/man/lavaan.mi.html" class="external-link">lavaan.mi::sem.mi()</a></code>.
If it is a single model fitted by
<code><a href="https://rdrr.io/r/stats/lm.html" class="external-link">lm()</a></code>, it will be automatically converted
to a list by <code><a href="lm2list.html">lm2list()</a></code>.</p></dd>


<dt id="arg-w-type">w_type<a class="anchor" aria-label="anchor" href="#arg-w-type"></a></dt>
<dd><p>Character. Whether the
moderator is a <code>"numeric"</code> variable
or a <code>"categorical"</code> variable. If
<code>"auto"</code>, the function will try to
determine the type automatically.</p></dd>


<dt id="arg-w-method">w_method<a class="anchor" aria-label="anchor" href="#arg-w-method"></a></dt>
<dd><p>Character, either
<code>"sd"</code> or <code>"percentile"</code>. If <code>"sd"</code>,
the levels are defined by the
distance from the mean in terms of
standard deviation. if
<code>"percentile"</code>, the levels are
defined in percentiles.</p></dd>


<dt id="arg-sd-from-mean">sd_from_mean<a class="anchor" aria-label="anchor" href="#arg-sd-from-mean"></a></dt>
<dd><p>A numeric vector.
Specify the distance in standard
deviation from the mean for each
level. Default is <code>c(-1, 0, 1)</code> for
<code>mod_levels()</code>. For
<code>mod_levels_list()</code>, the default is
<code>c(-1, 0, 1)</code> when there is only one
moderator, and <code>c(-1, 1)</code> when there
are more than one moderator. Ignored
if <code>w_method</code> is not equal to <code>"sd"</code>.</p></dd>


<dt id="arg-percentiles">percentiles<a class="anchor" aria-label="anchor" href="#arg-percentiles"></a></dt>
<dd><p>A numeric vector.
Specify the percentile (in
proportion) for each level. Default
is <code>c(.16, .50, .84)</code> for
<code>mod_levels()</code>, corresponding
approximately to one standard
deviation below mean, mean, and one
standard deviation above mean in a
normal distribution. For
<code>mod_levels_list()</code>, default is
<code>c(.16, .50, .84)</code> if there is one
moderator, and <code>c(.16, .84)</code> when
there are more than one moderator.
Ignored if <code>w_method</code> is not equal to
<code>"percentile"</code>.</p></dd>


<dt id="arg-extract-gp-names">extract_gp_names<a class="anchor" aria-label="anchor" href="#arg-extract-gp-names"></a></dt>
<dd><p>Logical. If
<code>TRUE</code>, the default, the function
will try to determine the name of
each group from the variable names.</p></dd>


<dt id="arg-prefix">prefix<a class="anchor" aria-label="anchor" href="#arg-prefix"></a></dt>
<dd><p>Character. If
<code>extract_gp_names</code> is <code>TRUE</code> and
<code>prefix</code> is supplied, it will be
removed from the variable names to
create the group names. Default is
<code>NULL</code>, and the function will try to
determine the prefix automatically.</p></dd>


<dt id="arg-values">values<a class="anchor" aria-label="anchor" href="#arg-values"></a></dt>
<dd><p>For numeric moderators,
a numeric vector. These are the
values to be used and will override
other options. For categorical
moderators, a named list of numeric
vector, each vector has length equal
to the number of indicator variables.
If the vector is named, the names
will be used to label the values. For
example, if set to <code>list(gp1 = c(0, 0), gp3 = c(0, 1)</code>, two levels will
be returned, one named <code>gp1</code> with the
indicator variables equal to 0 and 0,
the other named <code>gp3</code> with the
indicator variables equal to 0 and 1.
Default is <code>NULL</code>.</p></dd>


<dt id="arg-reference-group-label">reference_group_label<a class="anchor" aria-label="anchor" href="#arg-reference-group-label"></a></dt>
<dd><p>For
categorical moderator, if the label
for the reference group (group with
all indicators equal to zero) cannot
be determined, the default label is
<code>"Reference"</code>. To change it, set
<code>reference_group_label</code> to the
desired label. Ignored if <code>values</code> is
set.</p></dd>


<dt id="arg-descending">descending<a class="anchor" aria-label="anchor" href="#arg-descending"></a></dt>
<dd><p>If <code>TRUE</code>
(default), the rows are sorted in
descending order for numerical
moderators: The highest value on the
first row and the lowest values on
the last row. For user supplied
values, the first value is on the
last row and the last value is on the
first row. If <code>FALSE</code>, the rows are
sorted in ascending order.</p></dd>


<dt id="arg--">...<a class="anchor" aria-label="anchor" href="#arg--"></a></dt>
<dd><p>The names of moderators
variables. For a categorical
variable, it should be a vector of
variable names.</p></dd>


<dt id="arg-merge">merge<a class="anchor" aria-label="anchor" href="#arg-merge"></a></dt>
<dd><p>If <code>TRUE</code>,
<code>mod_levels_list()</code> will call
<code><a href="merge_mod_levels.html">merge_mod_levels()</a></code> and return the
merged levels. Default is <code>FALSE</code>.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p><code>mod_levels()</code> returns a
<code>wlevels</code>-class object which is a
data frame with additional attributes
about the levels.</p>
<p><code>mod_levels_list()</code> returns a list of
<code>wlevels</code>-class objects, or a
<code>wlevels</code>-class object which is a
data frame of the merged levels if
<code>merge = TRUE</code>.</p>
    </div>
    <div class="section level2">
    <h2 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a></h2>
    <p>It creates values of a
moderator that can be used to compute
conditional effect or conditional
indirect effect. By default, for a
numeric moderator, it uses one
standard deviation below mean, mean,
and one standard deviation above
mean. The percentiles of these three
levels in a normal distribution
(16th, 50th, and 84th) can also be
used. For categorical variable, it
will simply collect the unique
categories in the data.</p>
<p>The generated levels are then used by
<code><a href="cond_indirect.html">cond_indirect()</a></code> and
<code><a href="cond_indirect.html">cond_indirect_effects()</a></code>.</p>
<p>If a model has more than one
moderator, <code>mod_levels_list()</code> can be
used to generate combinations of
levels. The output can then passed to
<code><a href="cond_indirect.html">cond_indirect_effects()</a></code> to compute
the conditional effects or
conditional indirect effects for all
the combinations.</p>
    </div>
    <div class="section level2">
    <h2 id="functions">Functions<a class="anchor" aria-label="anchor" href="#functions"></a></h2>

<ul><li><p><code>mod_levels()</code>: Generate
levels for one moderator.</p></li>
<li><p><code>mod_levels_list()</code>: Generate
levels for several moderators.</p></li>
</ul></div>
    <div class="section level2">
    <h2 id="see-also">See also<a class="anchor" aria-label="anchor" href="#see-also"></a></h2>
    <div class="dont-index"><p><code><a href="cond_indirect.html">cond_indirect_effects()</a></code> for computing conditional
indiret effects; <code><a href="merge_mod_levels.html">merge_mod_levels()</a></code> for merging
levels of moderators.</p></div>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span></span></span>
<span class="r-in"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://lavaan.ugent.be" class="external-link">lavaan</a></span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/utils/data.html" class="external-link">data</a></span><span class="op">(</span><span class="va">data_med_mod_ab</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">dat</span> <span class="op">&lt;-</span> <span class="va">data_med_mod_ab</span></span></span>
<span class="r-in"><span><span class="co"># Form the levels from a list of lm() outputs</span></span></span>
<span class="r-in"><span><span class="va">lm_m</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/stats/lm.html" class="external-link">lm</a></span><span class="op">(</span><span class="va">m</span> <span class="op">~</span> <span class="va">x</span><span class="op">*</span><span class="va">w1</span> <span class="op">+</span> <span class="va">c1</span> <span class="op">+</span> <span class="va">c2</span>, <span class="va">dat</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">lm_y</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/stats/lm.html" class="external-link">lm</a></span><span class="op">(</span><span class="va">y</span> <span class="op">~</span> <span class="va">m</span><span class="op">*</span><span class="va">w2</span> <span class="op">+</span> <span class="va">x</span> <span class="op">+</span> <span class="va">w1</span> <span class="op">+</span> <span class="va">c1</span> <span class="op">+</span> <span class="va">c2</span>, <span class="va">dat</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">lm_out</span> <span class="op">&lt;-</span> <span class="fu"><a href="lm2list.html">lm2list</a></span><span class="op">(</span><span class="va">lm_m</span>, <span class="va">lm_y</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">w1_levels</span> <span class="op">&lt;-</span> <span class="fu">mod_levels</span><span class="op">(</span><span class="va">lm_out</span>, w <span class="op">=</span> <span class="st">"w1"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">w1_levels</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>               w1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> M+1.0SD 6.173157</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Mean    5.105602</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> M-1.0SD 4.038047</span>
<span class="r-in"><span><span class="va">w2_levels</span> <span class="op">&lt;-</span> <span class="fu">mod_levels</span><span class="op">(</span><span class="va">lm_out</span>, w <span class="op">=</span> <span class="st">"w2"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">w2_levels</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>               w2</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> M+1.0SD 4.040487</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Mean    3.047789</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> M-1.0SD 2.055091</span>
<span class="r-in"><span><span class="co"># Indirect effect from x to y through m, at the first levels of w1 and w2</span></span></span>
<span class="r-in"><span><span class="fu"><a href="cond_indirect.html">cond_indirect</a></span><span class="op">(</span>x <span class="op">=</span> <span class="st">"x"</span>, y <span class="op">=</span> <span class="st">"y"</span>, m <span class="op">=</span> <span class="st">"m"</span>,</span></span>
<span class="r-in"><span>              fit <span class="op">=</span> <span class="va">lm_out</span>,</span></span>
<span class="r-in"><span>              wvalues <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span>w1 <span class="op">=</span> <span class="va">w1_levels</span><span class="op">$</span><span class="va">w1</span><span class="op">[</span><span class="fl">1</span><span class="op">]</span>,</span></span>
<span class="r-in"><span>                          w2 <span class="op">=</span> <span class="va">w2_levels</span><span class="op">$</span><span class="va">w2</span><span class="op">[</span><span class="fl">1</span><span class="op">]</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> == Conditional Indirect Effect   ==</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>                                                     </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  Path:                        x -&gt; m -&gt; y           </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  Moderators:                  w1, w2                </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  Conditional Indirect Effect: 0.398                 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  When:                        w1 = 6.173, w2 = 4.040</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Computation Formula:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   (b.m~x + (b.x:w1)*(w1))*(b.y~m + (b.m:w2)*(w2))</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Computation:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   ((-0.66304) + (0.20389)*(6.17316))*((-0.14996) + (0.20267)*(4.04049))</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Coefficients of Component Paths:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  Path Conditional Effect Original Coefficient</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   m~x              0.596               -0.663</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   y~m              0.669               -0.150</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-in"><span><span class="co"># Can form the levels based on percentiles</span></span></span>
<span class="r-in"><span><span class="va">w1_levels2</span> <span class="op">&lt;-</span> <span class="fu">mod_levels</span><span class="op">(</span><span class="va">lm_out</span>, w <span class="op">=</span> <span class="st">"w1"</span>, w_method <span class="op">=</span> <span class="st">"percentile"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">w1_levels2</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>           w1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 84% 6.207972</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 50% 5.215974</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 16% 3.932444</span>
<span class="r-in"><span><span class="co"># Form the levels from a lavaan output</span></span></span>
<span class="r-in"><span><span class="co"># Compute the product terms before fitting the model</span></span></span>
<span class="r-in"><span><span class="va">dat</span><span class="op">$</span><span class="va">mw2</span> <span class="op">&lt;-</span> <span class="va">dat</span><span class="op">$</span><span class="va">m</span> <span class="op">*</span> <span class="va">dat</span><span class="op">$</span><span class="va">w2</span></span></span>
<span class="r-in"><span><span class="va">mod</span> <span class="op">&lt;-</span></span></span>
<span class="r-in"><span><span class="st">"</span></span></span>
<span class="r-in"><span><span class="st">m ~ x + w1 + x:w1 + c1 + c2</span></span></span>
<span class="r-in"><span><span class="st">y ~ m + x + w1 + w2 + mw2 + c1 + c2</span></span></span>
<span class="r-in"><span><span class="st">"</span></span></span>
<span class="r-in"><span><span class="va">fit</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/pkg/lavaan/man/sem.html" class="external-link">sem</a></span><span class="op">(</span><span class="va">mod</span>, <span class="va">dat</span>, fixed.x <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="cond_indirect.html">cond_indirect</a></span><span class="op">(</span>x <span class="op">=</span> <span class="st">"x"</span>, y <span class="op">=</span> <span class="st">"y"</span>, m <span class="op">=</span> <span class="st">"m"</span>,</span></span>
<span class="r-in"><span>              fit <span class="op">=</span> <span class="va">fit</span>,</span></span>
<span class="r-in"><span>              wvalues <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span>w1 <span class="op">=</span> <span class="va">w1_levels</span><span class="op">$</span><span class="va">w1</span><span class="op">[</span><span class="fl">1</span><span class="op">]</span>,</span></span>
<span class="r-in"><span>                          w2 <span class="op">=</span> <span class="va">w2_levels</span><span class="op">$</span><span class="va">w2</span><span class="op">[</span><span class="fl">1</span><span class="op">]</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> == Conditional Indirect Effect   ==</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>                                                     </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  Path:                        x -&gt; m -&gt; y           </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  Moderators:                  w1, w2                </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  Conditional Indirect Effect: 0.398                 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  When:                        w1 = 6.173, w2 = 4.040</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Computation Formula:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   (b.m~x + (b.x:w1)*(w1))*(b.y~m + (b.mw2)*(w2))</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Computation:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   ((-0.66304) + (0.20389)*(6.17316))*((-0.14996) + (0.20267)*(4.04049))</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Coefficients of Component Paths:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  Path Conditional Effect Original Coefficient</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   m~x              0.596               -0.663</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   y~m              0.669               -0.150</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-in"><span><span class="co"># Can pass all levels to cond_indirect_effects()</span></span></span>
<span class="r-in"><span><span class="co"># First merge the levels by merge_mod_levels()</span></span></span>
<span class="r-in"><span><span class="va">w1w2_levels</span> <span class="op">&lt;-</span> <span class="fu"><a href="merge_mod_levels.html">merge_mod_levels</a></span><span class="op">(</span><span class="va">w1_levels</span>, <span class="va">w2_levels</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="cond_indirect.html">cond_indirect_effects</a></span><span class="op">(</span>x <span class="op">=</span> <span class="st">"x"</span>, y <span class="op">=</span> <span class="st">"y"</span>, m <span class="op">=</span> <span class="st">"m"</span>,</span></span>
<span class="r-in"><span>                      fit <span class="op">=</span> <span class="va">fit</span>,</span></span>
<span class="r-in"><span>                      wlevels <span class="op">=</span> <span class="va">w1w2_levels</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> == Conditional indirect effects ==</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  Path: x -&gt; m -&gt; y</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  Conditional on moderator(s): w1, w2</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  Moderator(s) represented by: w1, w2</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>      [w1]    [w2]  (w1)  (w2)   ind   m~x   y~m</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1 M+1.0SD M+1.0SD 6.173 4.040 0.398 0.596 0.669</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2 M+1.0SD Mean    6.173 3.048 0.279 0.596 0.468</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3 M+1.0SD M-1.0SD 6.173 2.055 0.159 0.596 0.267</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 4 Mean    M+1.0SD 5.106 4.040 0.253 0.378 0.669</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 5 Mean    Mean    5.106 3.048 0.177 0.378 0.468</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 6 Mean    M-1.0SD 5.106 2.055 0.101 0.378 0.267</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 7 M-1.0SD M+1.0SD 4.038 4.040 0.107 0.160 0.669</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 8 M-1.0SD Mean    4.038 3.048 0.075 0.160 0.468</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 9 M-1.0SD M-1.0SD 4.038 2.055 0.043 0.160 0.267</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  - The 'ind' column shows the conditional indirect effects.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  - ‘m~x’,‘y~m’ is/are the path coefficient(s) along the path conditional</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    on the moderator(s).</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-in"><span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># mod_levels_list() forms a combinations of levels in one call</span></span></span>
<span class="r-in"><span><span class="co"># It returns a list, by default.</span></span></span>
<span class="r-in"><span><span class="co"># Form the levels from a list of lm() outputs</span></span></span>
<span class="r-in"><span><span class="co"># "merge = TRUE" is optional. cond_indirect_effects will merge the levels</span></span></span>
<span class="r-in"><span><span class="co"># automatically.</span></span></span>
<span class="r-in"><span><span class="va">w1w2_levels</span> <span class="op">&lt;-</span> <span class="fu">mod_levels_list</span><span class="op">(</span><span class="st">"w1"</span>, <span class="st">"w2"</span>, fit <span class="op">=</span> <span class="va">fit</span>, merge <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">w1w2_levels</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>                                w1       w2</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> w1: M+1.0SD; w2: M+1.0SD 6.173157 4.040487</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> w1: M+1.0SD; w2: M-1.0SD 6.173157 2.055091</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> w1: M-1.0SD; w2: M+1.0SD 4.038047 4.040487</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> w1: M-1.0SD; w2: M-1.0SD 4.038047 2.055091</span>
<span class="r-in"><span><span class="fu"><a href="cond_indirect.html">cond_indirect_effects</a></span><span class="op">(</span>x <span class="op">=</span> <span class="st">"x"</span>, y <span class="op">=</span> <span class="st">"y"</span>, m <span class="op">=</span> <span class="st">"m"</span>,</span></span>
<span class="r-in"><span>                      fit <span class="op">=</span> <span class="va">fit</span>, wlevels <span class="op">=</span> <span class="va">w1w2_levels</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> == Conditional indirect effects ==</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  Path: x -&gt; m -&gt; y</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  Conditional on moderator(s): w1, w2</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  Moderator(s) represented by: w1, w2</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>      [w1]    [w2]  (w1)  (w2)   ind   m~x   y~m</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1 M+1.0SD M+1.0SD 6.173 4.040 0.398 0.596 0.669</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2 M+1.0SD M-1.0SD 6.173 2.055 0.159 0.596 0.267</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3 M-1.0SD M+1.0SD 4.038 4.040 0.107 0.160 0.669</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 4 M-1.0SD M-1.0SD 4.038 2.055 0.043 0.160 0.267</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  - The 'ind' column shows the conditional indirect effects.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  - ‘m~x’,‘y~m’ is/are the path coefficient(s) along the path conditional</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    on the moderator(s).</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-in"><span><span class="co"># Can work without merge = TRUE:</span></span></span>
<span class="r-in"><span><span class="va">w1w2_levels</span> <span class="op">&lt;-</span> <span class="fu">mod_levels_list</span><span class="op">(</span><span class="st">"w1"</span>, <span class="st">"w2"</span>, fit <span class="op">=</span> <span class="va">fit</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">w1w2_levels</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [[1]]</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>               w1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> M+1.0SD 6.173157</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> M-1.0SD 4.038047</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [[2]]</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>               w2</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> M+1.0SD 4.040487</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> M-1.0SD 2.055091</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-in"><span><span class="fu"><a href="cond_indirect.html">cond_indirect_effects</a></span><span class="op">(</span>x <span class="op">=</span> <span class="st">"x"</span>, y <span class="op">=</span> <span class="st">"y"</span>, m <span class="op">=</span> <span class="st">"m"</span>,</span></span>
<span class="r-in"><span>                      fit <span class="op">=</span> <span class="va">fit</span>, wlevels <span class="op">=</span> <span class="va">w1w2_levels</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> == Conditional indirect effects ==</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  Path: x -&gt; m -&gt; y</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  Conditional on moderator(s): w1, w2</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  Moderator(s) represented by: w1, w2</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>      [w1]    [w2]  (w1)  (w2)   ind   m~x   y~m</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1 M+1.0SD M+1.0SD 6.173 4.040 0.398 0.596 0.669</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2 M+1.0SD M-1.0SD 6.173 2.055 0.159 0.596 0.267</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3 M-1.0SD M+1.0SD 4.038 4.040 0.107 0.160 0.669</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 4 M-1.0SD M-1.0SD 4.038 2.055 0.043 0.160 0.267</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  - The 'ind' column shows the conditional indirect effects.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  - ‘m~x’,‘y~m’ is/are the path coefficient(s) along the path conditional</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    on the moderator(s).</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-in"><span></span></span>
<span class="r-in"><span></span></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Shu Fai Cheung, Sing-Hang Cheung.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.3.</p>
</div>

    </footer></div>





  </body></html>

